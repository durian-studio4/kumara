(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{DeMl:function(e,a,t){"use strict";t.r(a);var n=t("o0o1"),r=t.n(n),l=t("HaE+"),o=t("ODXe"),c=t("q1tI"),s=t.n(c),u=t("WHYC"),d=t("p46w"),i=t.n(d),m=t("TUsf"),g=t.n(m),p=(t("IzEo"),t("bx4M")),b=(t("+L6B"),t("2/Rp")),E=(t("14J3"),t("BMrR")),v=(t("5NDa"),t("5rEg")),y=(t("T2oS"),t("W9HT")),j=t("aZ9c"),h=t("P5uD"),x=t("LuAL"),f=t("bIAK"),N=t("G/yU"),k=t("CzAe"),q=t("ZS4f"),O=t("Pt6z"),S=t("QCK8"),_=function(e){var a=e.onCreate,t=e.onLoading,n=Object(O["a"])(),r=Object(o["a"])(n,5),l=r[0],u=r[1],d=r[2],i=r[3],m=r[4],_=Object(c["useState"])(!1),w=Object(o["a"])(_,2),T=w[0],B=w[1],C=Object(S["a"])(""),L=Object(o["a"])(C,3),D=L[0],H=L[1],J=L[2],z=Object(S["a"])(""),A=Object(o["a"])(z,3),F=A[0],G=A[1],I=A[2],M=Object(k["a"])(),R=Object(q["a"])("0"),U=Object(o["a"])(R,2),W=U[0],K=U[1];Object(c["useEffect"])((function(){M.values&&m("".concat("http://127.0.0.1:8000","/admin/v1/master/barang/selectgroup?nama_barang=").concat(M.values))}),[M.values]),Object(c["useMemo"])((function(){return D&&F&&M.values?B(!1):B(!0)}),[M.values,D,F]);var P=JSON.stringify({qty:F,harga:D,id_satuan_barang:W,nama_barang:M.values}),V=function(){J(),I(),M.clearText()},Z=function(){a({json:P,clear:V})};return s.a.createElement(p["a"],null,s.a.createElement("p",{className:g.a.title},"Input Barang"),200!==u||i?s.a.createElement(N["a"],null):null,t?s.a.createElement(f["a"],null):s.a.createElement(c["Fragment"],null,s.a.createElement(E["a"],null,s.a.createElement("div",{className:g.a.box3},s.a.createElement("div",{className:g.a.group},s.a.createElement("label",{className:g.a.label,htmlFor:"barang"},"Nama Barang"),s.a.createElement(h["a"],{id:"barang",value:M.text,onChange:M.changeText,onSelect:M.selectText}))),s.a.createElement("div",{className:g.a.box3},s.a.createElement("div",{className:g.a.group},s.a.createElement("label",{className:g.a.label},"Stok Gudang"),d?s.a.createElement(y["a"],null):s.a.createElement(v["a"],{className:g.a.input,disabled:!0,value:M.values?l.qty_gudang:0}))),s.a.createElement("div",{className:g.a.box3},s.a.createElement("div",{className:g.a.group},s.a.createElement("label",{className:g.a.label},"Stok Display"),d?s.a.createElement(y["a"],null):s.a.createElement(v["a"],{className:g.a.input,disabled:!0,value:M.values?l.qty_display:0})))),s.a.createElement(E["a"],null,s.a.createElement("div",{className:g.a.box3},s.a.createElement(E["a"],{justify:"space-between"},s.a.createElement("div",{className:g.a.box5},s.a.createElement("div",{className:g.a.group},s.a.createElement("label",{className:g.a.label,htmlFor:"qty"},"Banyak Barang"),s.a.createElement(j["a"],{className:g.a.number,thousandSeparator:!0,thousandsGroupStyle:"thousand",onValueChange:G,value:String(F)}))),M.values?s.a.createElement("div",{className:g.a.box5},s.a.createElement("div",{className:g.a.group},s.a.createElement("label",{className:g.a.label},"Satuan Barang"),s.a.createElement(x["a"],{address:"".concat("http://127.0.0.1:8000","/admin/v1/master/barang/selectgroup?nama_barang=").concat(M.values),handleChange:K}))):null)),s.a.createElement("div",{className:g.a.box3},s.a.createElement("div",{className:g.a.group},s.a.createElement("label",{className:g.a.label,htmlFor:"harga"},"Harga Satuan"),s.a.createElement(j["a"],{className:g.a.number,thousandSeparator:!0,thousandsGroupStyle:"thousand",onValueChange:H,value:String(D)}))))),s.a.createElement(E["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(b["a"],{type:"primary",onClick:Z,disabled:T,style:{marginRight:"1em"}},"Tambahkan ke daftar")))},w=_,T=function(e){var a=e.data,t=e.status,n=e.isLoading_data,r=e.isError_data,l=e.isLoading_order,o=e.onSubmit,c=e.onDelete,u=a&&a.barang;return s.a.createElement(p["a"],{style:{marginTop:"2em"}},s.a.createElement("p",{className:g.a.title},"Daftar barang yang akan diorder"),r||200!==t?s.a.createElement(N["a"],null):null,n?s.a.createElement(f["a"],null):s.a.createElement("table",{className:g.a.table},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"No."),s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Satuan Barang"),s.a.createElement("th",null,"Unit"),s.a.createElement("th",null,"Harga"),s.a.createElement("th",null,"Jumlah"),s.a.createElement("th",null))),s.a.createElement("tbody",null,u&&u.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.no),s.a.createElement("td",null,e.nama_barang),s.a.createElement("td",null,e.satuan_barang),s.a.createElement("td",null,e.qty),s.a.createElement("td",null,e.harga),s.a.createElement("td",null,e.jumlah),s.a.createElement("td",null,s.a.createElement(b["a"],{className:g.a.button,onClick:function(){return c(e.no)},type:"primary",danger:!0},"Hapus")))})),s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,a?a.total_harga:null),s.a.createElement("td",null)))),s.a.createElement(E["a"],{justify:"end"},s.a.createElement(b["a"],{className:g.a.button,type:"primary",onClick:o,disabled:Boolean(l)},"Order")))},B=T,C=function(){var e=Object(c["useState"])(!1),a=Object(o["a"])(e,2),t=a[0],n=a[1],d=Object(c["useState"])(!1),m=Object(o["a"])(d,2),p=m[0],b=m[1],E=Object(u["l"])(),v=Object(O["a"])(),y=Object(o["a"])(v,6),j=y[0],h=y[1],x=y[2],f=y[3],N=y[4],k=y[5];Object(c["useEffect"])((function(){var e=setTimeout((function(){N("".concat("http://127.0.0.1:8000","/admin/v1/inventory/order/request/").concat(E.id,"/select"))}),0);return function(){return clearTimeout(e)}}),[]);var q=function(){var e=Object(l["a"])(r.a.mark((function e(){var a,t,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("".concat("http://127.0.0.1:8000","/admin/v1/inventory/order/request/").concat(E.id,"/order"),{method:"post",headers:{Authorization:String(i.a.get("token"))}});case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t.message;case 10:return l=e.sent,n(!0),b(!1),e.abrupt("return",l);case 16:e.prev=16,e.t0=e["catch"](1),b(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){var a=e.json,t=e.clear;k("".concat("http://127.0.0.1:8000","/admin/v1/inventory/order/request/").concat(E.id,"/update"),a,t)},_=function(){return console.log("deleted")},T=function(e){k("".concat("http://127.0.0.1:8000","/admin/v1/inventory/order/request/").concat(E.id,"/delete"),JSON.stringify({no:e}),_)};return t?s.a.createElement(u["c"],{to:"/inventory/confirm"}):s.a.createElement("div",null,s.a.createElement("p",{className:g.a.title},"Request Order"),s.a.createElement(w,{onCreate:S,onLoading:Boolean(x)}),s.a.createElement(B,{data:j,status:Number(h),isLoading_data:Boolean(x),isError_data:f,isLoading_order:p,onSubmit:q,onDelete:T}))};a["default"]=C},TUsf:function(e,a,t){e.exports={title:"antd-pro-pages-inventory-order-request-keranjang-index-title",title_add:"antd-pro-pages-inventory-order-request-keranjang-index-title_add",row:"antd-pro-pages-inventory-order-request-keranjang-index-row",row_box:"antd-pro-pages-inventory-order-request-keranjang-index-row_box",modal_body:"antd-pro-pages-inventory-order-request-keranjang-index-modal_body",col:"antd-pro-pages-inventory-order-request-keranjang-index-col",box3:"antd-pro-pages-inventory-order-request-keranjang-index-box3",box5:"antd-pro-pages-inventory-order-request-keranjang-index-box5",box6:"antd-pro-pages-inventory-order-request-keranjang-index-box6",box10:"antd-pro-pages-inventory-order-request-keranjang-index-box10",group:"antd-pro-pages-inventory-order-request-keranjang-index-group",label:"antd-pro-pages-inventory-order-request-keranjang-index-label",input:"antd-pro-pages-inventory-order-request-keranjang-index-input",button:"antd-pro-pages-inventory-order-request-keranjang-index-button",area:"antd-pro-pages-inventory-order-request-keranjang-index-area",span:"antd-pro-pages-inventory-order-request-keranjang-index-span",p:"antd-pro-pages-inventory-order-request-keranjang-index-p",table:"antd-pro-pages-inventory-order-request-keranjang-index-table",number:"antd-pro-pages-inventory-order-request-keranjang-index-number"}}}]);
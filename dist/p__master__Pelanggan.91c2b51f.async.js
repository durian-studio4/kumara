(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{ppqK:function(e,a,t){"use strict";t.r(a);t("14J3");var l=t("BMrR"),n=(t("+L6B"),t("2/Rp")),c=(t("5NDa"),t("5rEg")),r=t("ODXe"),i=t("q1tI"),o=t.n(i),m=t("qWu5"),s=t.n(m),d=(t("g9YV"),t("wCAj")),p=t("VTBJ"),u=t("F6Wq"),b=t("G/yU"),g=function(e){var a=e.data,t=e.loading,c=e.status,m=e.error,g=e.onUpdate,E=e.remove,v=Object(u["a"])(),x=Object(r["a"])(v,1),N=x[0],h=Object(i["useMemo"])((function(){return[{align:"center",title:"No",dataIndex:"id"},Object(p["a"])({align:"center",title:"Nama Pembeli",dataIndex:"name"},N("name")),Object(p["a"])({align:"center",title:"Group",dataIndex:"pembeli_grup"},N("pembeli_grup")),Object(p["a"])({align:"center",title:"Alamat",dataIndex:"alamat"},N("alamat")),Object(p["a"])({align:"center",title:"Jenis Kelamin",dataIndex:"gender"},N("gender")),Object(p["a"])({align:"center",title:"NPWP",dataIndex:"npwp"},N("npwp")),Object(p["a"])({align:"center",title:"No. Telp",dataIndex:"phone"},N("phone")),Object(p["a"])({align:"center",title:"Email",dataIndex:"email"},N("email")),{align:"center",render:function(e){return o.a.createElement(l["a"],{justify:"space-around"},o.a.createElement(n["a"],{className:s.a.button,id:e.id,onClick:function(){return g(e.id)},type:"primary"},"Edit"),o.a.createElement(n["a"],{className:s.a.button,id:e.id,onClick:function(){return E(e.id)},type:"primary",danger:!0},"Delete"))}}]}),[]);return m||200!==c?o.a.createElement(b["a"],null):o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(d["a"],{columns:h,dataSource:a,loading:t}),";")},E=g,v=(t("2qtc"),t("kLXV")),x=(t("jCWc"),t("kPKH")),N=t("rePB"),h=t("A3dL"),f=t("Slwk"),j=t("+f7l"),O=t("PI94"),k=t("LfEe"),S=t("c6cn"),C=t("MRut"),_=t("ZS4f"),T=t("CzAe"),y=t("u1pk"),w={name:"",alamat:"",npwp:"",email:"",phone:""},F=function(e){var a=e.visible,t=e.onCancel,m=e.onCreate,d=e.onLoadButton,u=(e.onError,Object(i["useState"])(w)),b=Object(r["a"])(u,2),g=b[0],E=g.name,F=g.alamat,P=g.npwp,I=g.email,K=g.phone,L=b[1],B=Object(i["useState"])(!1),A=Object(r["a"])(B,2),J=A[0],W=A[1],D=Object(_["a"])("1"),R=Object(r["a"])(D,2),q=R[0],U=R[1],V=Object(_["a"])("0"),G=Object(r["a"])(V,2),M=G[0],z=G[1],H=Object(T["a"])(),X=Object(T["a"])(),Y=Object(T["a"])(),Z=Object(T["a"])(),Q=Object(y["a"])(String(Y.id)),$=Object(T["a"])();Object(i["useEffect"])((function(){return E&&F&&I&&K&&H.id&&X.id&&Y.id&&Z.id&&$.id?W(!1):W(!0)}),[F,I,Y.id,Z.id,X.id,E,K,H.id,$.id]);var ee=JSON.stringify({name:E,alamat:F,npwp:P,email:I,phone:K,gender:M,id_kelurahan:Z.id,id_suplier:$.id,id_pembeli_grup:q}),ae=function(e){var a=e.target,t=a.id,l=a.value;L((function(e){return Object(p["a"])(Object(p["a"])({},e),{},Object(N["a"])({},t,l))}))},te=function(){L(Object(p["a"])({},w)),t()},le=function(){m({json:ee,clear:te})};return o.a.createElement(v["a"],{visible:a,title:"Tambah Daftar Pembeli",closable:!1,footer:null,width:700},o.a.createElement("div",{className:s.a.modal_body},o.a.createElement(x["a"],null,o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"name"},"Nama"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:E,onChange:ae}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:F,onChange:ae}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:P,onChange:ae})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"gender"},"Jenis Kelamin"),o.a.createElement(f["a"],{initial:"Laki Laki",handleChange:z}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"email"},"Email"),o.a.createElement(c["a"],{className:s.a.input,id:"email",placeholder:"Isi Email",value:I,onChange:ae}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(K).replace(/[^-0-9]/g,""),onChange:ae})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"group"},"Group"),o.a.createElement(h["a"],{initial:"Tender",handleChange:U}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"suplier"},"Suplier (Optional)"),o.a.createElement(C["a"],{id:"suplier",value:$.text,onSelect:$.selectText,onChange:$.changeText}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(j["a"],{id:"provinsi",value:H.text,onChange:H.changeText,onSelect:H.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(O["a"],{id:"kota",value:X.text,onChange:X.changeText,onSelect:X.selectText,onClear:X.clearText,filter:String(H.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(k["a"],{id:"kecamatan",value:Y.text,onChange:Y.changeText,onSelect:Y.selectText,onClear:Y.clearText,filter:String(X.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(S["a"],{id:"kelurahan",value:Z.text,onChange:Z.changeText,onSelect:Z.selectText,onClear:Z.clearText,filter:String(Y.id)})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"kode",disabled:!0,value:Q.kode||0})))))),o.a.createElement(l["a"],{justify:"end"},o.a.createElement(n["a"],{className:s.a.button,disabled:d,onClick:te,type:"primary",danger:!0},"Batal"),o.a.createElement(n["a"],{className:s.a.button,onClick:le,disabled:J||d,type:"primary"},"Tambah")))},P=F,I=t("bIAK"),K=t("Pt6z");function L(e){var a=e.idSelect,t=e.textSelect,l=Object(i["useState"])(""),n=Object(r["a"])(l,2),c=n[0],o=n[1],m=Object(i["useState"])(""),s=Object(r["a"])(m,2),d=s[0],p=s[1],u=Object(i["useState"])(0),b=Object(r["a"])(u,2),g=b[0],E=b[1];Object(i["useEffect"])((function(){var e=setTimeout((function(){o(t),E(a)}),0);return function(){return clearTimeout(e)}}),[a,t]);var v=function(e){o(e)},x=function(e,a){o(a.children),E(e),p(a.children)},N=function(){o("")};return{text:c,id:g,values:d,changeText:v,selectText:x,clearText:N}}var B=L,A=t("o0o1"),J=t.n(A),W=t("HaE+");function D(e){var a=Object(i["useState"])(""),t=Object(r["a"])(a,2),l=t[0],n=t[1],c=Object(i["useState"])(0),o=Object(r["a"])(c,2),m=o[0],s=o[1],d=Object(i["useState"])(!1),p=Object(r["a"])(d,2),u=p[0],b=p[1];Object(i["useEffect"])((function(){n(e)}),[e]),Object(i["useEffect"])((function(){var e=setTimeout((function(){l&&(g(),s(0))}),0);return function(){return clearTimeout(e)}}),[l]);var g=function(){var e=Object(W["a"])(J.a.mark((function e(){var a,t,n;return J.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("".concat(Object({NODE_ENV:"production"}).REACT_APP_SERVER_URL,"/admin/v1/general/kodepos?id_kecamatan=").concat(l));case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t;case 10:n=e.sent,s(n.data[0].kode_pos),b(!1),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](1),b(!1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return{kode:m,isLoading:u}}var R=D,q={name:"",alamat:"",npwp:"",email:"",phone:"",id_kelurahan:0,kelurahan:"",id_kecamatan:0,kecamatan:"",id_kota:0,kota:"",id_provinsi:0,provinsi:"",id_kode_pos:0,id_suplier:0,nama_suplier:"",kode_pos:""},U=function(e){var a=e.id_update,t=e.visible,m=e.onUpdate,d=e.onCancel,u=(e.onError,e.onLoadButton),g=Object(K["a"])(),E=Object(r["a"])(g,5),T=E[0],y=E[1],w=E[2],F=E[3],P=E[4],L=Object(i["useState"])(q),A=Object(r["a"])(L,2),J=A[0],W=A[1],D=J.name,U=J.alamat,V=J.npwp,G=J.email,M=J.phone,z=Object(i["useState"])(!1),H=Object(r["a"])(z,2),X=H[0],Y=H[1],Z=Object(_["a"])("1"),Q=Object(r["a"])(Z,2),$=Q[0],ee=Q[1],ae=Object(_["a"])("0"),te=Object(r["a"])(ae,2),le=te[0],ne=te[1],ce=B({idSelect:J.id_provinsi,textSelect:J.provinsi}),re=B({idSelect:J.id_kota,textSelect:J.kota}),ie=B({idSelect:J.id_kecamatan,textSelect:J.kecamatan}),oe=B({idSelect:J.id_kelurahan,textSelect:J.kelurahan}),me=R(String(ie.id)),se=B({idSelect:J.id_suplier,textSelect:J.nama_suplier});Object(i["useEffect"])((function(){T&&W(T)}),[T]),Object(i["useEffect"])((function(){var e=setTimeout((function(){P("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/").concat(a,"/select"))}),0);return function(){return clearTimeout(e)}}),[a]),Object(i["useEffect"])((function(){return ce.id&&re.id&&ie.id&&oe.id?Y(!1):Y(!0)}),[ie.id,oe.id,re.id,ce.id]);var de=JSON.stringify({name:D,alamat:U,npwp:V,email:G,phone:M,gender:le,id_kelurahan:oe.id,id_suplier:se.id,id_pembeli_grup:$}),pe=function(e){var a=e.target,t=a.id,l=a.value;W((function(e){return Object(p["a"])(Object(p["a"])({},e),{},Object(N["a"])({},t,l))}))},ue=function(){W(Object(p["a"])({},q)),d()},be=function(){m({url:"".concat("https://api.posarmed.id","/admin/v1/master/pembeli/").concat(a,"/update"),json:de,clear:ue})};return o.a.createElement(v["a"],{visible:t,onCancel:ue,footer:null,width:600,title:"Edit Data Pelanggan"},200!==y||F?o.a.createElement(b["a"],null):null,w?o.a.createElement(I["default"],null):o.a.createElement("div",{className:s.a.modal_body},o.a.createElement(x["a"],null,o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"name"},"Nama"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:D,onChange:pe}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:U,onChange:pe}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:V,onChange:pe})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label},"Jenis Kelamin"),o.a.createElement(f["a"],{select_id:"gender",initial:"Laki Laki",handleChange:ne}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"email"},"Email"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"email",placeholder:"Isi Email",value:G,onChange:pe}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(M).replace(/[^-0-9]/g,""),onChange:pe})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"group"},"Group"),o.a.createElement(h["a"],{select_id:"group",initial:"Tender",handleChange:ee}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"suplier"},"Suplier (Optional)"),o.a.createElement(C["a"],{id:"suplier",value:se.text,onSelect:se.selectText,onChange:se.changeText}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(j["a"],{id:"provinsi",value:ce.text,onChange:ce.changeText,onSelect:ce.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(O["a"],{id:"kota",value:re.text,onChange:re.changeText,onSelect:re.selectText,onClear:re.clearText,filter:String(ce.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(k["a"],{id:"kecamatan",value:ie.text,onChange:ie.changeText,onSelect:ie.selectText,onClear:ie.clearText,filter:String(re.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(S["a"],{id:"kelurahan",value:oe.text,onChange:oe.changeText,onSelect:oe.selectText,onClear:oe.clearText,filter:String(ie.id)})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"kode",disabled:!0,value:me.kode||0})))))),o.a.createElement(l["a"],{justify:"end"},o.a.createElement(n["a"],{disabled:X||Boolean(u),onClick:be,type:"primary"},"Simpan")))},V=U,G=t("jC83"),M=function(){var e=Object(i["useState"])(""),a=Object(r["a"])(e,2),t=a[0],m=a[1],d=Object(i["useState"])(!1),p=Object(r["a"])(d,2),u=p[0],b=p[1],g=Object(i["useState"])(!1),v=Object(r["a"])(g,2),x=v[0],N=v[1],h=Object(i["useState"])(0),f=Object(r["a"])(h,2),j=f[0],O=f[1],k=Object(G["a"])(),S=Object(r["a"])(k,3),C=S[0],_=S[1],T=S[2],y=Object(G["a"])(),w=Object(r["a"])(y,3),F=w[0],I=w[1],L=w[2],B=Object(K["a"])(),A=Object(r["a"])(B,6),J=A[0],W=A[1],D=A[2],R=A[3],q=A[4],U=A[5];Object(i["useEffect"])((function(){var e=setTimeout((function(){q("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/list"))}),0);return function(){return clearTimeout(e)}}),[_]);var M=Object(i["useCallback"])((function(){q("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/list?filter=").concat(t)),m("")}),[q,t]),z=function(e){"enter"===e.key.toLowerCase()&&M()},H=function(){return b(!u)},X=function(e){O(Number(e)),N(!0)},Y=function(){O(0),N(!1)},Z=function(e){m(e.target.value)},Q=function(e){var a=e.json,t=e.clear;T("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/create"),a,t)},$=function(e){var a=e.url,t=e.json,l=e.clear;L(a,t,l)},ee=function(e){U("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/").concat(e,"/delete"),JSON.stringify,Y)};return o.a.createElement("div",null,o.a.createElement("p",{className:s.a.title},"Data Pelanggan"),o.a.createElement("div",{className:s.a.row_box},o.a.createElement(c["a"],{className:s.a.input_title,id:"name_barang",type:"text",placeholder:"Search Pelanggan",onChange:Z,value:t,onKeyDown:z}),o.a.createElement(n["a"],{className:s.a.button_title,type:"primary",onClick:M},"Cari")),o.a.createElement(l["a"],{justify:"end"},o.a.createElement("p",{className:s.a.title_add,onClick:H},"+ Tambah")),o.a.createElement(E,{data:J,loading:Boolean(D),status:Number(W),error:Boolean(R),remove:ee,onUpdate:X}),u?o.a.createElement(P,{visible:u,onCreate:Q,onCancel:H,onLoadButton:Boolean(C),onError:_}):null,x?o.a.createElement(V,{visible:x,onCancel:Y,onUpdate:$,onError:I,onLoadButton:Boolean(F),id_update:j}):null)};a["default"]=M},qWu5:function(e,a,t){e.exports={title:"antd-pro-pages-master-pelanggan-index-title",title_add:"antd-pro-pages-master-pelanggan-index-title_add",row:"antd-pro-pages-master-pelanggan-index-row",row_box:"antd-pro-pages-master-pelanggan-index-row_box",modal_body:"antd-pro-pages-master-pelanggan-index-modal_body",col:"antd-pro-pages-master-pelanggan-index-col",box3:"antd-pro-pages-master-pelanggan-index-box3",box5:"antd-pro-pages-master-pelanggan-index-box5",box6:"antd-pro-pages-master-pelanggan-index-box6",box10:"antd-pro-pages-master-pelanggan-index-box10",group:"antd-pro-pages-master-pelanggan-index-group",label:"antd-pro-pages-master-pelanggan-index-label",input:"antd-pro-pages-master-pelanggan-index-input",input_title:"antd-pro-pages-master-pelanggan-index-input_title",button:"antd-pro-pages-master-pelanggan-index-button",button_title:"antd-pro-pages-master-pelanggan-index-button_title",area:"antd-pro-pages-master-pelanggan-index-area",span:"antd-pro-pages-master-pelanggan-index-span",p:"antd-pro-pages-master-pelanggan-index-p",table:"antd-pro-pages-master-pelanggan-index-table"}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{"5T/U":function(e,a,t){e.exports={title:"antd-pro-pages-sales-retur-index-title",row_box:"antd-pro-pages-sales-retur-index-row_box",modal_body:"antd-pro-pages-sales-retur-index-modal_body",col:"antd-pro-pages-sales-retur-index-col",box:"antd-pro-pages-sales-retur-index-box",box3:"antd-pro-pages-sales-retur-index-box3",box6:"antd-pro-pages-sales-retur-index-box6",group:"antd-pro-pages-sales-retur-index-group",label:"antd-pro-pages-sales-retur-index-label",input:"antd-pro-pages-sales-retur-index-input",area:"antd-pro-pages-sales-retur-index-area",button:"antd-pro-pages-sales-retur-index-button"}},fELG:function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=t("ODXe"),l=t("hGi/"),c=t("q1tI"),s=t.n(c),o=t("Hx5s"),i=t("5T/U"),u=t.n(i),d=(t("2qtc"),t("kLXV")),m=(t("14J3"),t("BMrR")),b=t("rePB"),p=t("VTBJ"),g=(t("5NDa"),t("5rEg")),x=t("LuAL"),E=t("P5uD");function f(e){var a=e.idSelect,t=e.textSelect,n=Object(c["useState"])(""),l=Object(r["a"])(n,2),s=l[0],o=l[1],i=Object(c["useState"])(0),u=Object(r["a"])(i,2),d=u[0],m=u[1];Object(c["useEffect"])((function(){var e=setTimeout((function(){o(t),m(a)}),0);return function(){return clearTimeout(e)}}),[a,t]);var b=function(e){o(e)},p=function(e,a){o(a.children),m(e)},g=function(){o("")};return{text:s,id:d,changeText:b,selectText:p,clearText:g}}var v=f,j=t("R277"),O=t("ZS4f"),y=g["a"].TextArea,N={nama_sales:"",keterangan:""},h=function(e){var a=e.onCancel,t=e.onCreate,l=e.onLoadButton,o=e.onError,i=e.visible,f=Object(c["useState"])(N),h=Object(r["a"])(f,2),k=h[0],_=k.keterangan,S=k.nama_sales,T=h[1],C=Object(j["a"])(""),w=Object(r["a"])(C,3),B=w[0],q=w[1],I=w[2],L=Object(c["useState"])(!1),R=Object(r["a"])(L,2),F=R[0],J=R[1],U=Object(O["a"])("0"),D=Object(r["a"])(U,3),G=D[0],K=D[1],A=D[2],P=v({idSelect:"",textSelect:""});Object(c["useEffect"])((function(){return S&&_&&P.text?J(!B||!G):J(!0)}),[P.text,_,S,B,G]),Object(c["useEffect"])((function(){A()}),[P.text]);var V=JSON.stringify({qty:B,keterangan:_,nama_sales:S,nama_barang:P.text,id_satuan_barang:G}),M=function(e){var a=e.target,t=a.id,n=a.value;T((function(e){return Object(p["a"])(Object(p["a"])({},e),{},Object(b["a"])({},t,n))}))},Q=function(){T(Object(p["a"])({},N)),A(),P.clearText(),I(),a()},X=function(){t({url:"".concat("https://api.posarmed.id","/admin/v1/sales/retur"),json:V,clear:Q}),A(),P.clearText(),I(),a()};return s.a.createElement(d["a"],{title:"Input Retur Sales",visible:i,closable:!1,footer:null},s.a.createElement("div",{className:u.a.modal_body},s.a.createElement("div",{className:u.a.col},s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"nama_sales"},"Nama Sales"),s.a.createElement(g["a"],{className:u.a.input,type:"text",id:"nama_sales",placeholder:"Isi Nama Sales",value:S,onChange:M}))),s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"nama_barang"},"Nama Barang"),s.a.createElement(E["a"],{id:"barang",value:P.text,onChange:P.changeText,onSelect:P.selectText}))),s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"qty"},"Qty"),s.a.createElement(m["a"],{justify:"space-between"},s.a.createElement("div",{className:u.a.box6},s.a.createElement(g["a"],{className:u.a.input,id:"qty",placeholder:"0",value:B,onChange:q})),P.text?s.a.createElement("div",{className:u.a.box3},s.a.createElement(x["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(P.text),handleChange:K})):null))),s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"keterangan"},"Keterangan"),s.a.createElement(y,{className:u.a.area,id:"keterangan",placeholder:"Isi Keterangan",value:_,onChange:M}))))),s.a.createElement(m["a"],{justify:"end"},o?s.a.createElement("p",{style:{color:"red"}},o):null,s.a.createElement(n["a"],{type:"primary",danger:!0,className:u.a.button,disabled:l,onClick:Q},"Batal"),s.a.createElement(n["a"],{type:"primary",className:u.a.button,onClick:X,disabled:F||l},"Tambah")))},k=h,_=(t("g9YV"),t("wCAj")),S=t("F6Wq"),T=t("G/yU"),C=t("jC83"),w=function(e){var a=e.data,t=e.loading,l=e.status,o=e.error,i=Object(S["a"])(),u=Object(r["a"])(i,1),d=u[0],m=Object(C["a"])(),b=Object(r["a"])(m,3),g=(b[0],b[1],b[2]),x=function(a,t,n){g("".concat("https://api.posarmed.id","/admin/v1/sales/retur/").concat(a,"/update"),{status:t},n),e.onUpdate()},E=Object(c["useMemo"])((function(){return[Object(p["a"])({align:"center",title:"Tanggal",dataIndex:"tanggal",key:"tanggal"},d("tanggal")),Object(p["a"])({align:"center",title:"Nama Barang",dataIndex:"nama_barang",key:"nama_barang"},d("nama_barang")),Object(p["a"])({align:"center",title:"Qty",render:function(e){var a=e.qty,t=e.satuan_barang;return s.a.createElement("span",null,a," ",t)},key:"qty"},d("qty")),Object(p["a"])({align:"center",title:"Keterangan",dataIndex:"keterangan",key:"keterangan"},d("keterangan")),{align:"center",render:function(e){var a=e.id,t=e.status;return s.a.createElement("div",null,"returned_to_sales"==t?s.a.createElement(n["a"],{type:"primary",danger:!0,onClick:function(){return x(a,"returned_to_supplier",null)}},"Kembalikan ke Supplier"):null,"returned_to_supplier"==t?s.a.createElement(n["a"],{type:"primary",onClick:function(){return x(a,"exchanged",null)}},"Dikembalikan ke Gudang"):null,"exchanged"==t?s.a.createElement("div",{style:{color:"green"}},"Barang telah ditukar"):null)}}]}),[]);return o||200!==l?s.a.createElement(T["a"],null):s.a.createElement("div",{style:{overflow:"auto"}},s.a.createElement(_["a"],{columns:E,dataSource:a.reverse(),loading:t}),";")},B=w,q=t("Pt6z"),I=function(e){Object(l["a"])(e);var a=Object(c["useState"])(!1),t=Object(r["a"])(a,2),i=t[0],d=t[1],m=Object(q["a"])(),b=Object(r["a"])(m,6),p=b[0],g=b[1],x=b[2],E=b[3],f=b[4],v=b[5];Object(c["useEffect"])((function(){var e=setTimeout((function(){f("".concat("https://api.posarmed.id","/admin/v1/sales/retur"))}),0);return function(){return clearTimeout(e)}}),[]);var j=function(){f("".concat("https://api.posarmed.id","/admin/v1/sales/retur"))},O=function(){return d(!i)},y=function(e){var a=e.url,t=e.json,n=e.clear;v(a,t,n)};return s.a.createElement(o["a"],null,s.a.createElement("div",{className:u.a.row_box},s.a.createElement("p",{className:u.a.title},"Retur Sales"),s.a.createElement(n["a"],{className:u.a.button,type:"primary",onClick:O},"Tambah Retur")),s.a.createElement(B,{data:p,loading:x,status:g,error:E,onUpdate:function(){return j()}}),s.a.createElement(k,{visible:i,onCreate:y,onCancel:O,onLoadButton:Boolean(x),onError:Boolean(E)}))};a["default"]=I}}]);
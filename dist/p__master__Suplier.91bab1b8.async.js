(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{THwM:function(e,a,t){"use strict";t.r(a);t("14J3");var l=t("BMrR"),n=(t("+L6B"),t("2/Rp")),r=(t("5NDa"),t("5rEg")),c=t("ODXe"),i=t("q1tI"),o=t.n(i),s=t("ZyMt"),m=t.n(s),d=(t("g9YV"),t("wCAj")),u=t("VTBJ"),p=t("F6Wq"),b=t("G/yU"),E=function(e){var a=e.data,t=e.loading,r=e.status,s=e.error,E=e.onUpdate,v=e.remove,x=Object(p["a"])(),N=Object(c["a"])(x,1),g=N[0],h=Object(i["useMemo"])((function(){return[{align:"center",title:"No",dataIndex:"id"},Object(u["a"])({align:"center",title:"Nama Suplier",dataIndex:"name"},g("name")),Object(u["a"])({align:"center",title:"Alamat",dataIndex:"alamat"},g("alamat")),Object(u["a"])({align:"center",title:"NPWP",dataIndex:"npwp"},g("npwp")),Object(u["a"])({align:"center",title:"No. Telp",dataIndex:"phone"},g("phone")),Object(u["a"])({align:"center",title:"Email",dataIndex:"email"},g("email")),{align:"center",render:function(e){return o.a.createElement(l["a"],{justify:"space-around"},o.a.createElement(n["a"],{className:m.a.button,id:e.id,onClick:function(){return E(e.id)},type:"primary"},"Edit"),o.a.createElement(n["a"],{className:m.a.button,id:e.id,onClick:function(){return v(e.id)},type:"primary",danger:!0},"Delete"))}}]}),[]);return s||200!==r?o.a.createElement(b["a"],null):o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(d["a"],{columns:h,loading:t,dataSource:a}),";")},v=E,x=(t("2qtc"),t("kLXV")),N=t("rePB"),g=t("+f7l"),h=t("PI94"),f=t("LfEe"),j=t("c6cn"),O=t("CzAe"),k=t("u1pk"),S={name:"",alamat:"",npwp:"",email:"",phone:""},C=function(e){var a=e.visible,t=e.onCancel,s=e.onCreate,d=e.onLoadButton,p=e.onError,b=Object(i["useState"])(S),E=Object(c["a"])(b,2),v=E[0],C=v.name,y=v.alamat,T=v.npwp,_=v.email,w=v.phone,F=E[1],I=Object(i["useState"])(!1),P=Object(c["a"])(I,2),B=P[0],K=P[1],L=Object(O["a"])(),A=Object(O["a"])(),D=Object(O["a"])(),J=Object(O["a"])(),W=Object(k["a"])(D.id);Object(i["useEffect"])((function(){return C&&y&&_&&w&&L.id&&A.id&&D.id&&J.id?K(!1):K(!0)}),[y,_,D.id,J.id,A.id,C,w,L.id]);var M=JSON.stringify({name:C,alamat:y,npwp:T,email:_,phone:w,id_provinsi:L.id,id_kota:A.id,id_kecamatan:D.id,id_kelurahan:J.id}),U=function(e){var a=e.target,t=a.id,l=a.value;F((function(e){return Object(u["a"])(Object(u["a"])({},e),{},Object(N["a"])({},t,l))}))},q=function(){F(Object(u["a"])({},S)),t()},H=function(){s({json:M,clear:q})};return o.a.createElement(x["a"],{visible:a,title:"Tambah Daftar Suplier",closable:!1,footer:null,width:700},o.a.createElement("div",{className:m.a.modal_body},o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"name"},"Nama Supplier"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:C,onChange:U}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:y,onChange:U}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:T,onChange:U})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"email"},"Email"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"email",placeholder:"Isi Email",value:_,onChange:U}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(w).replace(/[^-0-9]/g,""),onChange:U}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(g["a"],{id:"provinsi",value:L.text,onChange:L.changeText,onSelect:L.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(h["a"],{id:"kota",value:A.text,onChange:A.changeText,onSelect:A.selectText,onClear:A.clearText,filter:String(L.id)}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(f["a"],{id:"kecamatan",value:D.text,onChange:D.changeText,onSelect:D.selectText,onClear:D.clearText,filter:String(A.id)}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(j["a"],{id:"kelurahan",value:J.text,onChange:J.changeText,onSelect:J.selectText,onClear:J.clearText,filter:String(D.id)})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"kode",disabled:!0,value:W.kode||0}))))),o.a.createElement(l["a"],{justify:"end"},p?o.a.createElement("p",{style:{color:"red"}},p):null,o.a.createElement(n["a"],{className:m.a.button,onClick:q,disabled:d,type:"primary",danger:!0},"Batal"),o.a.createElement(n["a"],{className:m.a.button,onClick:H,disabled:B||d,type:"primary"},"Tambah")))},y=C,T=(t("jCWc"),t("kPKH")),_=t("Pt6z"),w=t("o0o1"),F=t.n(w),I=t("HaE+");function P(e){var a=Object(i["useState"])(""),t=Object(c["a"])(a,2),l=t[0],n=t[1],r=Object(i["useState"])(0),o=Object(c["a"])(r,2),s=o[0],m=o[1],d=Object(i["useState"])(!1),u=Object(c["a"])(d,2),p=u[0],b=u[1];Object(i["useEffect"])((function(){n(e)}),[e]),Object(i["useEffect"])((function(){var e=setTimeout((function(){l&&(E(),m(0))}),0);return function(){return clearTimeout(e)}}),[l]);var E=function(){var e=Object(I["a"])(F.a.mark((function e(){var a,t,n;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/general/kodepos?id_kecamatan=").concat(l));case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t;case 10:n=e.sent,m(n.data[0].kode_pos),b(!1),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](1),b(!1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return{kode:s,isLoading:p}}var B=P;function K(e){var a=e.idSelect,t=e.textSelect,l=Object(i["useState"])(""),n=Object(c["a"])(l,2),r=n[0],o=n[1],s=Object(i["useState"])(""),m=Object(c["a"])(s,2),d=(m[0],m[1]),u=Object(i["useState"])(0),p=Object(c["a"])(u,2),b=p[0],E=p[1];Object(i["useEffect"])((function(){var e=setTimeout((function(){o(t),E(a)}),0);return function(){return clearTimeout(e)}}),[a,t]);var v=function(e){o(e)},x=function(e,a){o(e),E(e),d()},N=function(){o("")};return{text:r,id:b,changeText:v,selectText:x,clearText:N}}var L=K,A=t("bIAK"),D={name:"",alamat:"",npwp:"",email:"",phone:"",id_kelurahan:0,kelurahan:"",id_kecamatan:0,kecamatan:"",id_kota:0,kota:"",id_provinsi:0,provinsi:"",id_kode_pos:0,kode_pos:""},J=function(e){var a=e.id_update,t=e.visible,s=e.onUpdate,d=e.onCancel,p=e.onError,E=e.onLoadButton,v=Object(_["a"])(),O=Object(c["a"])(v,5),k=O[0],S=O[1],C=O[2],y=O[3],w=O[4],F=Object(i["useState"])(D),I=Object(c["a"])(F,2),P=I[0],K=I[1],J=P.name,W=P.alamat,M=P.npwp,U=P.email,q=P.phone,H=Object(i["useState"])(!1),V=Object(c["a"])(H,2),z=V[0],R=V[1],X=L({idSelect:P.id_provinsi,textSelect:P.provinsi}),Z=L({idSelect:P.id_kota,textSelect:P.kota}),G=L({idSelect:P.id_kecamatan,textSelect:P.kecamatan}),Y=L({idSelect:P.id_kelurahan,textSelect:P.kelurahan}),Q=B(G.id);Object(i["useEffect"])((function(){var e=setTimeout((function(){w("".concat("https://api.posarmed.id","/admin/v1/master/suplier/").concat(a,"/select"))}),0);return function(){return clearTimeout(e)}}),[a]),Object(i["useEffect"])((function(){k&&K(k)}),[k]),Object(i["useEffect"])((function(){return X.id&&Z.id&&G.id&&Y.id?R(!1):R(!0)}),[G.id,Y.id,Z.id,X.id]);var $=JSON.stringify({name:J,alamat:W,npwp:M,email:U,phone:q,id_provinsi:X.id,id_kota:Z.id,id_kecamatan:G.id,id_kelurahan:Y.id}),ee=function(e){var a=e.target,t=a.id,l=a.value;K((function(e){return Object(u["a"])(Object(u["a"])({},e),{},Object(N["a"])({},t,l))}))},ae=function(){K(Object(u["a"])({},D)),d()},te=function(){s({url:"".concat("https://api.posarmed.id","/admin/v1/master/suplier/").concat(a,"/update"),json:$,clear:ae})};return o.a.createElement(x["a"],{visible:t,title:"Edit Data Suplier",onCancel:ae,footer:null,width:600},200!==S||y?o.a.createElement(b["a"],null):null,C?o.a.createElement(A["default"],null):o.a.createElement("div",{className:m.a.modal_body},o.a.createElement(T["a"],null,o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"name"},"Nama Supplier"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:J,onChange:ee}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:W,onChange:ee}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:M,onChange:ee})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"email"},"Email"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"email",placeholder:"Isi Email",value:U,onChange:ee}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(q).replace(/[^-0-9]/g,""),onChange:ee}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(g["a"],{id:"provinsi",value:X.text,onChange:X.changeText,onSelect:X.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(h["a"],{id:"kota",value:Z.text,onChange:Z.changeText,onSelect:Z.selectText,onClear:Z.clearText,filter:X.text}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(f["a"],{id:"kecamatan",value:G.text,onChange:G.changeText,onSelect:G.selectText,onClear:G.clearText,filter:Z.text}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(j["a"],{id:"kelurahan",value:Y.text,onChange:Y.changeText,onSelect:Y.selectText,onClear:Y.clearText,filter:G.text})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"kode",disabled:!0,value:Q.kode||0})))))),o.a.createElement(l["a"],{justify:"end"},p?o.a.createElement("p",{style:{color:"red"}},p):null,o.a.createElement(n["a"],{disabled:z||E,onClick:te,type:"primary"},"Simpan")))},W=J,M=t("jC83"),U=function(){var e=Object(i["useState"])(""),a=Object(c["a"])(e,2),t=a[0],s=a[1],d=Object(i["useState"])(!1),u=Object(c["a"])(d,2),p=u[0],b=u[1],E=Object(i["useState"])(!1),x=Object(c["a"])(E,2),N=x[0],g=x[1],h=Object(i["useState"])(0),f=Object(c["a"])(h,2),j=f[0],O=f[1],k=Object(M["a"])(),S=Object(c["a"])(k,3),C=S[0],T=S[1],w=S[2],F=Object(M["a"])(),I=Object(c["a"])(F,3),P=I[0],B=I[1],K=I[2],L=Object(_["a"])(),A=Object(c["a"])(L,6),D=A[0],J=A[1],U=A[2],q=A[3],H=A[4],V=A[5];Object(i["useEffect"])((function(){var e=setTimeout((function(){H("".concat("https://api.posarmed.id","/admin/v1/master/suplier/list"))}),0);return function(){return clearTimeout(e)}}),[T]);var z=Object(i["useCallback"])((function(){H("".concat("https://api.posarmed.id","/admin/v1/master/suplier/list?filter=").concat(t)),s("")}),[H,t]),R=function(e){"enter"===e.key.toLowerCase()&&z()},X=function(){return b(!p)},Z=function(e){O(Number(e)),g(!0)},G=function(){O(0),g(!1)},Y=function(e){s(e.target.value)},Q=function(e){var a=e.json,t=e.clear;w("".concat("https://api.posarmed.id","/admin/v1/master/suplier/create"),a,t)},$=function(e){var a=e.url,t=e.json,l=e.clear;K(a,t,l)},ee=function(e){V("".concat("https://api.posarmed.id","/admin/v1/master/suplier/").concat(e,"/delete"),JSON.stringify,G)};return o.a.createElement("div",null,o.a.createElement("p",{className:m.a.title},"Data Suplier"),o.a.createElement("div",{className:m.a.row_box},o.a.createElement(r["a"],{className:m.a.input_title,id:"name_barang",type:"text",placeholder:"Search Pelanggan",onChange:Y,value:t,onKeyDown:R}),o.a.createElement(n["a"],{className:m.a.button_title,type:"primary",onClick:z},"Cari")),o.a.createElement(l["a"],{justify:"end"},o.a.createElement("p",{className:m.a.title_add,onClick:X},"+ Tambah")),o.a.createElement(v,{data:D,loading:Boolean(U),status:Number(J),error:Boolean(q),remove:ee,onUpdate:Z}),p?o.a.createElement(y,{visible:p,onCreate:Q,onCancel:X,onLoadButton:Boolean(C),onError:T}):null,N?o.a.createElement(W,{visible:N,onCancel:G,onUpdate:$,onError:B,onLoadButton:Boolean(P),id_update:j}):null)};a["default"]=U},ZyMt:function(e,a,t){e.exports={title:"antd-pro-pages-master-suplier-index-title",title_add:"antd-pro-pages-master-suplier-index-title_add",row:"antd-pro-pages-master-suplier-index-row",row_box:"antd-pro-pages-master-suplier-index-row_box",modal_body:"antd-pro-pages-master-suplier-index-modal_body",col:"antd-pro-pages-master-suplier-index-col",box3:"antd-pro-pages-master-suplier-index-box3",box5:"antd-pro-pages-master-suplier-index-box5",box6:"antd-pro-pages-master-suplier-index-box6",box10:"antd-pro-pages-master-suplier-index-box10",group:"antd-pro-pages-master-suplier-index-group",label:"antd-pro-pages-master-suplier-index-label",input:"antd-pro-pages-master-suplier-index-input",input_title:"antd-pro-pages-master-suplier-index-input_title",button:"antd-pro-pages-master-suplier-index-button",button_title:"antd-pro-pages-master-suplier-index-button_title",area:"antd-pro-pages-master-suplier-index-area",span:"antd-pro-pages-master-suplier-index-span",p:"antd-pro-pages-master-suplier-index-p",table:"antd-pro-pages-master-suplier-index-table"}}}]);
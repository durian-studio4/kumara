(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{ppqK:function(e,a,t){"use strict";t.r(a);t("14J3");var l=t("BMrR"),n=(t("+L6B"),t("2/Rp")),c=(t("5NDa"),t("5rEg")),r=t("ODXe"),i=t("q1tI"),o=t.n(i),m=t("qWu5"),s=t.n(m),d=(t("g9YV"),t("wCAj")),p=t("VTBJ"),u=t("F6Wq"),b=t("G/yU"),g=function(e){var a=e.data,t=e.loading,c=e.status,m=e.error,g=e.onUpdate,E=e.remove,v=Object(u["a"])(),x=Object(r["a"])(v,1),N=x[0],h=Object(i["useMemo"])((function(){return[{align:"center",title:"No",dataIndex:"id"},Object(p["a"])({align:"center",title:"Kode Pelanggan",dataIndex:"kode"},N("kode")),Object(p["a"])({align:"center",title:"Nama Pembeli",dataIndex:"name"},N("name")),Object(p["a"])({align:"center",title:"Group",dataIndex:"pembeli_grup"},N("pembeli_grup")),Object(p["a"])({align:"center",title:"Alamat",dataIndex:"alamat"},N("alamat")),Object(p["a"])({align:"center",title:"Jenis Kelamin",dataIndex:"gender"},N("gender")),Object(p["a"])({align:"center",title:"NPWP",dataIndex:"npwp"},N("npwp")),Object(p["a"])({align:"center",title:"No. Telp",dataIndex:"phone"},N("phone")),Object(p["a"])({align:"center",title:"Email",dataIndex:"email"},N("email")),{align:"center",fixed:"right",render:function(e){return o.a.createElement(l["a"],{justify:"space-around"},o.a.createElement(n["a"],{className:s.a.button,id:e.id,onClick:function(){return g(e.id)},type:"primary"},"Edit"),o.a.createElement(n["a"],{className:s.a.button,id:e.id,onClick:function(){return E(e.id)},type:"primary",danger:!0},"Delete"))}}]}),[]);return m||200!==c?o.a.createElement(b["a"],null):o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(d["a"],{columns:h,dataSource:a.reverse(),loading:t,scroll:{x:1300}}))},E=g,v=(t("2qtc"),t("kLXV")),x=(t("jCWc"),t("kPKH")),N=t("rePB"),h=t("A3dL"),f=t("Slwk"),j=t("+f7l"),O=t("PI94"),k=t("LfEe"),C=t("c6cn"),S=t("MRut"),T=t("ZS4f"),_=t("CzAe"),y=t("u1pk"),w={name:"",alamat:"",npwp:"",email:"",phone:"",code:""},F=function(e){var a=e.visible,t=e.onCancel,m=e.onCreate,d=e.onLoadButton,u=(e.onError,Object(i["useState"])(w)),b=Object(r["a"])(u,2),g=b[0],E=g.name,F=g.alamat,P=g.code,I=g.npwp,K=g.email,B=g.phone,L=b[1],J=Object(i["useState"])(!1),A=Object(r["a"])(J,2),W=A[0],D=A[1],q=Object(T["a"])("1"),U=Object(r["a"])(q,2),G=U[0],M=U[1],R=Object(T["a"])("0"),V=Object(r["a"])(R,2),z=V[0],H=V[1],X=Object(_["a"])(),Y=Object(_["a"])(),Z=Object(_["a"])(),Q=Object(_["a"])(),$=Object(y["a"])(String(Z.id)),ee=Object(_["a"])();Object(i["useEffect"])((function(){return E&&F&&K&&P&&B&&X.id&&Y.id&&Z.id&&Q.id&&ee.id?D(!1):D(!0)}),[F,P,K,Z.id,Q.id,Y.id,E,B,X.id,ee.id]);var ae=JSON.stringify({name:E,alamat:F,npwp:I,kode:P,email:K,phone:B,gender:z,id_kelurahan:Q.id,id_suplier:ee.id,id_pembeli_grup:G}),te=function(e){var a=e.target,t=a.id,l=a.value;L((function(e){return Object(p["a"])(Object(p["a"])({},e),{},Object(N["a"])({},t,l))}))},le=function(){L(Object(p["a"])({},w)),t()},ne=function(){m({json:ae,clear:le})};return o.a.createElement(v["a"],{visible:a,title:"Tambah Daftar Pembeli",closable:!1,footer:null,width:700},o.a.createElement("div",{className:s.a.modal_body},o.a.createElement(x["a"],null,o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"name"},"Nama"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:E,onChange:te}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:F,onChange:te}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:I,onChange:te})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"gender"},"Jenis Kelamin"),o.a.createElement(f["a"],{initial:"Laki Laki",handleChange:H}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"email"},"Email"),o.a.createElement(c["a"],{className:s.a.input,id:"email",placeholder:"Isi Email",value:K,onChange:te}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(B).replace(/[^-0-9]/g,""),onChange:te})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"group"},"Group"),o.a.createElement(h["a"],{initial:"Tender",handleChange:M}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"suplier"},"Suplier (Optional)"),o.a.createElement(S["a"],{id:"suplier",value:ee.text,onSelect:ee.selectText,onChange:ee.changeText}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(j["a"],{id:"provinsi",value:X.text,onChange:X.changeText,onSelect:X.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(O["a"],{id:"kota",value:Y.text,onChange:Y.changeText,onSelect:Y.selectText,onClear:Y.clearText,filter:String(X.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(k["a"],{id:"kecamatan",value:Z.text,onChange:Z.changeText,onSelect:Z.selectText,onClear:Z.clearText,filter:String(Y.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(C["a"],{id:"kelurahan",value:Q.text,onChange:Q.changeText,onSelect:Q.selectText,onClear:Q.clearText,filter:String(Z.id)})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"kode",disabled:!0,value:$.kode||0}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"code"},"Code Pelanggan"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"code",placeholder:"Isi Code Pelanggan",value:P,onChange:te})))))),o.a.createElement(l["a"],{justify:"end"},o.a.createElement(n["a"],{className:s.a.button,disabled:d,onClick:le,type:"primary",danger:!0},"Batal"),o.a.createElement(n["a"],{className:s.a.button,onClick:ne,disabled:W||d,type:"primary"},"Tambah")))},P=F,I=t("bIAK"),K=t("Pt6z");function B(e){var a=e.idSelect,t=e.textSelect,l=Object(i["useState"])(""),n=Object(r["a"])(l,2),c=n[0],o=n[1],m=Object(i["useState"])(""),s=Object(r["a"])(m,2),d=s[0],p=s[1],u=Object(i["useState"])(0),b=Object(r["a"])(u,2),g=b[0],E=b[1];Object(i["useEffect"])((function(){var e=setTimeout((function(){o(t),E(a)}),0);return function(){return clearTimeout(e)}}),[a,t]);var v=function(e){o(e)},x=function(e,a){o(a.children),E(e),p(a.children)},N=function(){o("")};return{text:c,id:g,values:d,changeText:v,selectText:x,clearText:N}}var L=B,J=t("o0o1"),A=t.n(J),W=t("HaE+");function D(e){var a=Object(i["useState"])(""),t=Object(r["a"])(a,2),l=t[0],n=t[1],c=Object(i["useState"])(0),o=Object(r["a"])(c,2),m=o[0],s=o[1],d=Object(i["useState"])(!1),p=Object(r["a"])(d,2),u=p[0],b=p[1];Object(i["useEffect"])((function(){n(e)}),[e]),Object(i["useEffect"])((function(){var e=setTimeout((function(){l&&(g(),s(0))}),0);return function(){return clearTimeout(e)}}),[l]);var g=function(){var e=Object(W["a"])(A.a.mark((function e(){var a,t,n;return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/general/kodepos?id_kecamatan=").concat(l));case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t;case 10:n=e.sent,s(n.data[0].kode_pos),b(!1),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](1),b(!1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return{kode:m,isLoading:u}}var q=D,U={name:"",alamat:"",npwp:"",email:"",phone:"",kode:"",id_kelurahan:0,kelurahan:"",id_kecamatan:0,kecamatan:"",id_kota:0,kota:"",id_provinsi:0,provinsi:"",id_kode_pos:0,id_suplier:0,nama_suplier:"",kode_pos:""},G=function(e){var a=e.id_update,t=e.visible,m=e.onUpdate,d=e.onCancel,u=(e.onError,e.onLoadButton),g=Object(K["a"])(),E=Object(r["a"])(g,5),_=E[0],y=E[1],w=E[2],F=E[3],P=E[4],B=Object(i["useState"])(U),J=Object(r["a"])(B,2),A=J[0],W=J[1],D=A.name,G=A.alamat,M=A.kode,R=A.npwp,V=A.email,z=A.phone,H=Object(i["useState"])(!1),X=Object(r["a"])(H,2),Y=X[0],Z=X[1],Q=Object(T["a"])("1"),$=Object(r["a"])(Q,2),ee=$[0],ae=$[1],te=Object(T["a"])("0"),le=Object(r["a"])(te,2),ne=le[0],ce=le[1],re=L({idSelect:A.id_provinsi,textSelect:A.provinsi}),ie=L({idSelect:A.id_kota,textSelect:A.kota}),oe=L({idSelect:A.id_kecamatan,textSelect:A.kecamatan}),me=L({idSelect:A.id_kelurahan,textSelect:A.kelurahan}),se=q(String(oe.id)),de=L({idSelect:A.id_suplier,textSelect:A.nama_suplier});Object(i["useEffect"])((function(){_&&W(_)}),[_]),Object(i["useEffect"])((function(){var e=setTimeout((function(){P("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/").concat(a,"/select"))}),0);return function(){return clearTimeout(e)}}),[a]),Object(i["useEffect"])((function(){return re.id&&ie.id&&oe.id&&me.id?Z(!1):Z(!0)}),[oe.id,me.id,ie.id,re.id]);var pe=JSON.stringify({name:D,alamat:G,npwp:R,kode:M,email:V,phone:z,gender:ne,id_kelurahan:me.id,id_suplier:de.id,id_pembeli_grup:ee}),ue=function(e){var a=e.target,t=a.id,l=a.value;W((function(e){return Object(p["a"])(Object(p["a"])({},e),{},Object(N["a"])({},t,l))}))},be=function(){W(Object(p["a"])({},U)),d()},ge=function(){m({url:"".concat("https://api.posarmed.id","/admin/v1/master/pembeli/").concat(a,"/update"),json:pe,clear:be})};return o.a.createElement(v["a"],{visible:t,onCancel:be,footer:null,width:700,title:"Edit Data Pelanggan"},200!==y||F?o.a.createElement(b["a"],null):null,w?o.a.createElement(I["a"],null):o.a.createElement("div",{className:s.a.modal_body},o.a.createElement(x["a"],null,o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"name"},"Nama"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:D,onChange:ue}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:G,onChange:ue}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:R,onChange:ue})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label},"Jenis Kelamin"),o.a.createElement(f["a"],{select_id:"gender",initial:"Laki Laki",handleChange:ce}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"email"},"Email"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"email",placeholder:"Isi Email",value:V,onChange:ue}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(z).replace(/[^-0-9]/g,""),onChange:ue})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"group"},"Group"),o.a.createElement(h["a"],{select_id:"group",initial:"Tender",handleChange:ae}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"suplier"},"Suplier (Optional)"),o.a.createElement(S["a"],{id:"suplier",value:de.text,onSelect:de.selectText,onChange:de.changeText}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(j["a"],{id:"provinsi",value:re.text,onChange:re.changeText,onSelect:re.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(O["a"],{id:"kota",value:ie.text,onChange:ie.changeText,onSelect:ie.selectText,onClear:ie.clearText,filter:String(re.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(k["a"],{id:"kecamatan",value:oe.text,onChange:oe.changeText,onSelect:oe.selectText,onClear:oe.clearText,filter:String(ie.id)}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(C["a"],{id:"kelurahan",value:me.text,onChange:me.changeText,onSelect:me.selectText,onClear:me.clearText,filter:String(oe.id)})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"kode",disabled:!0,value:se.kode||0}))),o.a.createElement("div",{className:s.a.box3},o.a.createElement("div",{className:s.a.group},o.a.createElement("label",{className:s.a.label,htmlFor:"kode"},"Code Pelanggan"),o.a.createElement(c["a"],{className:s.a.input,type:"text",id:"kode",placeholder:"Isi Code Pelanggan",value:M,onChange:ue})))))),o.a.createElement(l["a"],{justify:"end"},o.a.createElement(n["a"],{disabled:Y||Boolean(u),onClick:ge,type:"primary"},"Simpan")))},M=G,R=t("jC83"),V=function(){var e=Object(i["useState"])(""),a=Object(r["a"])(e,2),t=a[0],m=a[1],d=Object(i["useState"])(!1),p=Object(r["a"])(d,2),u=p[0],b=p[1],g=Object(i["useState"])(!1),v=Object(r["a"])(g,2),x=v[0],N=v[1],h=Object(i["useState"])(0),f=Object(r["a"])(h,2),j=f[0],O=f[1],k=Object(R["a"])(),C=Object(r["a"])(k,3),S=C[0],T=C[1],_=C[2],y=Object(R["a"])(),w=Object(r["a"])(y,3),F=w[0],I=w[1],B=w[2],L=Object(K["a"])(),J=Object(r["a"])(L,6),A=J[0],W=J[1],D=J[2],q=J[3],U=J[4],G=J[5];Object(i["useEffect"])((function(){var e=setTimeout((function(){U("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/list"))}),0);return function(){return clearTimeout(e)}}),[T]);var V=Object(i["useCallback"])((function(){U("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/list?filter=").concat(t)),m("")}),[U,t]),z=function(e){"enter"===e.key.toLowerCase()&&V()},H=function(){return b(!u)},X=function(e){O(Number(e)),N(!0)},Y=function(){O(0),N(!1)},Z=function(e){m(e.target.value)},Q=function(e){var a=e.json,t=e.clear;_("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/create"),a,t)},$=function(e){var a=e.url,t=e.json,l=e.clear;B(a,t,l)},ee=function(e){G("".concat("https://api.posarmed.id","/admin/v1/master/pembeli/").concat(e,"/delete"),JSON.stringify,Y)};return o.a.createElement("div",null,o.a.createElement("p",{className:s.a.title},"Data Pelanggan"),o.a.createElement("div",{className:s.a.row_box},o.a.createElement(c["a"],{className:s.a.input_title,id:"name_barang",type:"text",placeholder:"Search Pelanggan",onChange:Z,value:t,onKeyDown:z}),o.a.createElement(n["a"],{className:s.a.button_title,type:"primary",onClick:V},"Cari")),o.a.createElement(l["a"],{justify:"end"},o.a.createElement("p",{className:s.a.title_add,onClick:H},"+ Tambah")),o.a.createElement(E,{data:A,loading:Boolean(D),status:Number(W),error:Boolean(q),remove:ee,onUpdate:X}),u?o.a.createElement(P,{visible:u,onCreate:Q,onCancel:H,onLoadButton:Boolean(S),onError:T}):null,x?o.a.createElement(M,{visible:x,onCancel:Y,onUpdate:$,onError:I,onLoadButton:Boolean(F),id_update:j}):null)};a["default"]=V},qWu5:function(e,a,t){e.exports={title:"antd-pro-pages-master-pelanggan-index-title",title_add:"antd-pro-pages-master-pelanggan-index-title_add",row:"antd-pro-pages-master-pelanggan-index-row",row_box:"antd-pro-pages-master-pelanggan-index-row_box",modal_body:"antd-pro-pages-master-pelanggan-index-modal_body",col:"antd-pro-pages-master-pelanggan-index-col",box3:"antd-pro-pages-master-pelanggan-index-box3",box5:"antd-pro-pages-master-pelanggan-index-box5",box6:"antd-pro-pages-master-pelanggan-index-box6",box10:"antd-pro-pages-master-pelanggan-index-box10",group:"antd-pro-pages-master-pelanggan-index-group",label:"antd-pro-pages-master-pelanggan-index-label",input:"antd-pro-pages-master-pelanggan-index-input",input_title:"antd-pro-pages-master-pelanggan-index-input_title",button:"antd-pro-pages-master-pelanggan-index-button",button_title:"antd-pro-pages-master-pelanggan-index-button_title",area:"antd-pro-pages-master-pelanggan-index-area",span:"antd-pro-pages-master-pelanggan-index-span",p:"antd-pro-pages-master-pelanggan-index-p",table:"antd-pro-pages-master-pelanggan-index-table"}}}]);
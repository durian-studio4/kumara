(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{"5T/U":function(e,a,t){e.exports={title:"antd-pro-pages-sales-retur-index-title",row_box:"antd-pro-pages-sales-retur-index-row_box",modal_body:"antd-pro-pages-sales-retur-index-modal_body",col:"antd-pro-pages-sales-retur-index-col",box:"antd-pro-pages-sales-retur-index-box",box3:"antd-pro-pages-sales-retur-index-box3",box6:"antd-pro-pages-sales-retur-index-box6",group:"antd-pro-pages-sales-retur-index-group",label:"antd-pro-pages-sales-retur-index-label",input:"antd-pro-pages-sales-retur-index-input",area:"antd-pro-pages-sales-retur-index-area",button:"antd-pro-pages-sales-retur-index-button"}},fELG:function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=t("ODXe"),l=t("hGi/"),c=t("q1tI"),s=t.n(c),o=t("Hx5s"),i=t("5T/U"),u=t.n(i),m=(t("2qtc"),t("kLXV")),d=(t("14J3"),t("BMrR")),b=t("rePB"),g=t("VTBJ"),p=(t("5NDa"),t("5rEg")),x=t("LuAL"),E=t("P5uD");function f(e){var a=e.idSelect,t=e.textSelect,n=Object(c["useState"])(""),l=Object(r["a"])(n,2),s=l[0],o=l[1],i=Object(c["useState"])(0),u=Object(r["a"])(i,2),m=u[0],d=u[1];Object(c["useEffect"])((function(){var e=setTimeout((function(){o(t),d(a)}),0);return function(){return clearTimeout(e)}}),[a,t]);var b=function(e){o(e)},g=function(e,a){o(a.children),d(e)},p=function(){o("")};return{text:s,id:m,changeText:b,selectText:g,clearText:p}}var v=f,j=t("R277"),O=t("ZS4f"),N=p["a"].TextArea,y={nama_sales:"",keterangan:""},h=function(e){var a=e.onCancel,t=e.onCreate,l=e.onLoadButton,o=e.onError,i=e.visible,f=Object(c["useState"])(y),h=Object(r["a"])(f,2),_=h[0],k=_.keterangan,T=_.nama_sales,S=h[1],C=Object(j["a"])(""),w=Object(r["a"])(C,3),B=w[0],q=w[1],I=w[2],L=Object(c["useState"])(!1),R=Object(r["a"])(L,2),F=R[0],J=R[1],A=Object(O["a"])("0"),D=Object(r["a"])(A,3),G=D[0],K=D[1],P=D[2],U=v({idSelect:"",textSelect:""});Object(c["useEffect"])((function(){return T&&k&&U.text?J(!B||!G):J(!0)}),[U.text,k,T,B,G]),Object(c["useEffect"])((function(){P()}),[U.text]);var V=JSON.stringify({qty:B,keterangan:k,nama_sales:T,nama_barang:U.text,id_satuan_barang:G}),M=function(e){var a=e.target,t=a.id,n=a.value;S((function(e){return Object(g["a"])(Object(g["a"])({},e),{},Object(b["a"])({},t,n))}))},Q=function(){S(Object(g["a"])({},y)),P(),U.clearText(),I(),a()},X=function(){t({url:"".concat("https://api.posarmed.id","/admin/v1/sales/retur"),json:V,clear:Q}),P(),U.clearText(),I(),a()};return s.a.createElement(m["a"],{title:"Input Retur Sales",visible:i,closable:!1,footer:null},s.a.createElement("div",{className:u.a.modal_body},s.a.createElement("div",{className:u.a.col},s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"nama_sales"},"Nama Sales"),s.a.createElement(p["a"],{className:u.a.input,type:"text",id:"nama_sales",placeholder:"Isi Nama Sales",value:T,onChange:M}))),s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"nama_barang"},"Nama Barang"),s.a.createElement(E["a"],{id:"barang",value:U.text,onChange:U.changeText,onSelect:U.selectText}))),s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"qty"},"Qty"),s.a.createElement(d["a"],{justify:"space-between"},s.a.createElement("div",{className:u.a.box6},s.a.createElement(p["a"],{className:u.a.input,id:"qty",placeholder:"0",value:B,onChange:q})),U.text?s.a.createElement("div",{className:u.a.box3},s.a.createElement(x["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(U.text),handleChange:K})):null))),s.a.createElement("div",{className:u.a.box},s.a.createElement("div",{className:u.a.group},s.a.createElement("label",{className:u.a.label,htmlFor:"keterangan"},"Keterangan"),s.a.createElement(N,{className:u.a.area,id:"keterangan",placeholder:"Isi Keterangan",value:k,onChange:M}))))),s.a.createElement(d["a"],{justify:"end"},o?s.a.createElement("p",{style:{color:"red"}},o):null,s.a.createElement(n["a"],{type:"primary",danger:!0,className:u.a.button,disabled:l,onClick:Q},"Batal"),s.a.createElement(n["a"],{type:"primary",className:u.a.button,onClick:X,disabled:F||l},"Tambah")))},_=h,k=(t("g9YV"),t("wCAj")),T=t("F6Wq"),S=t("G/yU"),C=function(e){var a=e.data,t=e.loading,n=e.status,l=e.error,o=Object(T["a"])(),i=Object(r["a"])(o,1),u=i[0],m=Object(c["useMemo"])((function(){return[Object(g["a"])({align:"center",title:"Tanggal",dataIndex:"tanggal",key:"tanggal"},u("tanggal")),Object(g["a"])({align:"center",title:"Nama Barang",dataIndex:"nama_barang",key:"nama_barang"},u("nama_barang")),Object(g["a"])({align:"center",title:"Qty",render:function(e){var a=e.qty,t=e.satuan_barang;return s.a.createElement("span",null,a," ",t)},key:"qty"},u("qty")),Object(g["a"])({align:"center",title:"Keterangan",dataIndex:"keterangan",key:"keterangan"},u("keterangan"))]}),[]);return l||200!==n?s.a.createElement(S["a"],null):s.a.createElement("div",{style:{overflow:"auto"}},s.a.createElement(k["a"],{columns:m,dataSource:a.reverse(),loading:t}),";")},w=C,B=t("Pt6z"),q=function(e){Object(l["a"])(e);var a=Object(c["useState"])(!1),t=Object(r["a"])(a,2),i=t[0],m=t[1],d=Object(B["a"])(),b=Object(r["a"])(d,6),g=b[0],p=b[1],x=b[2],E=b[3],f=b[4],v=b[5];Object(c["useEffect"])((function(){var e=setTimeout((function(){f("".concat("https://api.posarmed.id","/admin/v1/sales/retur"))}),0);return function(){return clearTimeout(e)}}),[]);var j=function(){return m(!i)},O=function(e){var a=e.url,t=e.json,n=e.clear;v(a,t,n)};return s.a.createElement(o["a"],null,s.a.createElement("div",{className:u.a.row_box},s.a.createElement("p",{className:u.a.title},"Retur Sales"),s.a.createElement(n["a"],{className:u.a.button,type:"primary",onClick:j},"Tambah Retur")),s.a.createElement(w,{data:g,loading:x,status:p,error:E}),s.a.createElement(_,{visible:i,onCreate:O,onCancel:j,onLoadButton:Boolean(x),onError:Boolean(E)}))};a["default"]=q}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"7azX":function(e,a,t){"use strict";t.r(a);var n=t("o0o1"),l=t.n(n),r=t("HaE+"),s=t("ODXe"),c=t("q1tI"),o=t.n(c),m=t("WHYC"),i=t("p46w"),p=t.n(i),d=t("8KNg"),u=t.n(d),b=(t("IzEo"),t("bx4M")),g=(t("+L6B"),t("2/Rp")),E=(t("jCWc"),t("kPKH")),v=(t("14J3"),t("BMrR")),h=(t("5NDa"),t("5rEg")),y=(t("OaEy"),t("2fM7")),x=y["a"].Option,N=[{id:1,value:"BCA"},{id:2,value:"BNI"},{id:3,value:"BRI"},{id:4,value:"Mandiri"}],f=function(e){var a=e.initial,t=e.handleChange;return o.a.createElement(y["a"],{labelInValue:!0,defaultValue:{key:a||"Mohon Pilih"},style:{width:"100%",minHeight:"2em"},onChange:t},N.map((function(e,a){return o.a.createElement(x,{key:a,value:e.value},e.value)})))},j=f,k=t("ZS4f"),O=t("R277"),C=t("7EWV"),w=t("G/yU"),_=h["a"].TextArea,P=[{id:1,value:"BCA"},{id:2,value:"BNI"},{id:3,value:"BRI"},{id:4,value:"Mandiri"}],B=function(e){var a=e.onChangeKeterangan,t=e.keterangan;return o.a.createElement(c["Fragment"],null,o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group},o.a.createElement("label",{className:u.a.label,htmlFor:"keterangan"},"Keterangan"),o.a.createElement(_,{className:u.a.area,id:"keterangan",value:t,onChange:a,placeholder:"Masukkan Keterangan..."}))))},F=function(e){var a=e.dataPembayaran,t=e.statusPembayaran,n=e.checkoutPembayaran,l=e.exportExcelPembayaran,r=e.isLoading,m=e.isLoadingExport,i=e.isError,p=a.pembeli?a.pembeli.id_suplier:0,d=Object(c["useState"])(""),y=Object(s["a"])(d,2),x=y[0],N=y[1],f=Object(c["useState"])(!1),_=Object(s["a"])(f,2),F=_[0],K=_[1],I=Object(k["a"])("0"),R=Object(s["a"])(I,3),M=R[0],T=R[1],L=R[2],S=Object(O["a"])(""),J=Object(s["a"])(S,3),A=J[0],H=J[1],z=J[2],W=Object(k["a"])("1"),D=Object(s["a"])(W,3),U=D[0],V=D[1],q=D[2],X=Object(k["a"])("0"),G=Object(s["a"])(X,2),Y=G[0],Z=G[1];Object(c["useEffect"])((function(){return K(!U)}),[U]),Object(c["useEffect"])((function(){N("")}),[U]);var Q=JSON.stringify({id_type_pembayaran:U,tempo:A,jumlah_pb:M,keterangan:x,nama_bank:P[Y].value}),$=function(e){return N(e.target.value)},ee=function(e){var t=e.value;if(t>=a.saldo_pb)return T(a.saldo_pb),!1;T(t)},ae=function(){N(""),q(),L(),z()},te=function(){n({json:Q,clear:ae})};function ne(){switch(U){case"1":return o.a.createElement(B,{onChangeKeterangan:$,keterangan:x});case"3":return o.a.createElement(c["Fragment"],null,o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group},o.a.createElement("label",{className:u.a.label,htmlFor:"bank"},"Nama Bank"),o.a.createElement(j,{handleChange:Z,select_id:"bank",initial:"BCA"}))),o.a.createElement(B,{onChangeKeterangan:$,keterangan:x}));case"4":return o.a.createElement(c["Fragment"],null,o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group},o.a.createElement("label",{className:u.a.label,htmlFor:"tempo"},"Waktu Jatuh Tempo"),o.a.createElement(v["a"],{justify:"space-between"},o.a.createElement("div",{className:u.a.box6},o.a.createElement(h["a"],{className:u.a.input,id:"tempo",value:A,onChange:H,placeholder:"0"})),o.a.createElement("div",{className:u.a.box3},o.a.createElement(h["a"],{className:u.a.input,value:"Hari",disabled:!0}))))),o.a.createElement(B,{onChangeKeterangan:$,keterangan:x}));case"5":return o.a.createElement(B,{onChangeKeterangan:$,keterangan:x});case"6":return o.a.createElement(c["Fragment"],null,o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group},o.a.createElement("label",{className:u.a.label,htmlFor:"jumlah_pb"},"Jumlah"),o.a.createElement(h["a"],{className:u.a.input,id:"jumlah_pb",placeholder:"10,000",value:M,onChange:ee,disabled:!a.saldo_pb}),o.a.createElement("span",{style:{color:"red",opacity:"0.5"}},a.saldo_pb))));default:return null}}return 200!==t||i?o.a.createElement(w["a"],null):o.a.createElement(b["a"],null,o.a.createElement("p",{className:u.a.title},"Pembayaran"),o.a.createElement(v["a"],null,o.a.createElement("div",{className:u.a.box3},o.a.createElement("div",{className:u.a.group},o.a.createElement("label",{className:u.a.label,htmlFor:"barang"},"Total Tagihan"),o.a.createElement("p",{className:u.a.p},"Rp. ",a.total_tagihan))),o.a.createElement("div",{className:u.a.box3},o.a.createElement(E["a"],null,o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group},o.a.createElement("label",{className:u.a.label,htmlFor:"pembayaran"},"Metode Pembayaran"),o.a.createElement(C["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/sales/typePembayaran?id_suplier=").concat(p),select_id:"pembayaran",initial:"Debit",handleChange:V}))),ne())),o.a.createElement("div",{className:u.a.box3},o.a.createElement(E["a"],null,o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group,style:{marginTop:"1.3em"}},o.a.createElement(g["a"],{type:"primary",className:u.a.button,onClick:te,disabled:F||r},"Checkout"))),o.a.createElement("div",{className:u.a.box10},o.a.createElement("div",{className:u.a.group,style:{marginTop:"1.3em"}},o.a.createElement(g["a"],{type:"primary",className:u.a.button,onClick:l,disabled:m},"Convert Invoice to Excel and Print")))))))},K=F,I=t("Pt6z"),R=function(){var e=Object(c["useState"])(!1),a=Object(s["a"])(e,2),t=a[0],n=a[1],i=Object(c["useState"])(!1),d=Object(s["a"])(i,2),b=d[0],g=d[1],E=Object(I["a"])(),v=Object(s["a"])(E,6),h=v[0],y=v[1],x=v[2],N=v[3],f=v[4],j=v[5],k=Object(m["l"])().id;Object(c["useEffect"])((function(){var e=setTimeout((function(){f("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(k,"/select"))}),0);return function(){return clearTimeout(e)}}),[]);var O=function(e){var a=e.json,t=e.clear;j("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(k,"/update"),a,t),g(!0)},C=function(){var e=Object(r["a"])(l.a.mark((function e(){var a,t,r,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(k,"/excel"),{method:"post",headers:{Authorization:String(p.a.get("token"))}});case 4:return a=e.sent,e.next=7,a.blob();case 7:t=e.sent,r=t,n(!1),s=document.createElement("a"),s.href=window.URL.createObjectURL(r),s.download="Invoice.xls",window.document.body.appendChild(s),s.click(),window.document.body.removeChild(s),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](1),console.log(e.t0.message),n(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}();return b?o.a.createElement(m["c"],{to:"/sales/home"}):o.a.createElement("div",null,o.a.createElement("p",{className:u.a.title},"Request Order"),o.a.createElement(K,{dataPembayaran:h,statusPembayaran:Number(y),checkoutPembayaran:O,exportExcelPembayaran:C,isLoading:Boolean(x),isLoadingExport:t,isError:Boolean(N)}))};a["default"]=R},"8KNg":function(e,a,t){e.exports={title:"antd-pro-pages-sales-pos-pembayaran-index-title",row:"antd-pro-pages-sales-pos-pembayaran-index-row",modal_body:"antd-pro-pages-sales-pos-pembayaran-index-modal_body",col:"antd-pro-pages-sales-pos-pembayaran-index-col",box3:"antd-pro-pages-sales-pos-pembayaran-index-box3",box5:"antd-pro-pages-sales-pos-pembayaran-index-box5",box10:"antd-pro-pages-sales-pos-pembayaran-index-box10",group:"antd-pro-pages-sales-pos-pembayaran-index-group",label:"antd-pro-pages-sales-pos-pembayaran-index-label",input:"antd-pro-pages-sales-pos-pembayaran-index-input",button:"antd-pro-pages-sales-pos-pembayaran-index-button",span:"antd-pro-pages-sales-pos-pembayaran-index-span",area:"antd-pro-pages-sales-pos-pembayaran-index-area",table:"antd-pro-pages-sales-pos-pembayaran-index-table",p:"antd-pro-pages-sales-pos-pembayaran-index-p"}}}]);
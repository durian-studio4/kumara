(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{"4gyL":function(e,a,t){"use strict";t.r(a);var n=t("ODXe"),l=(t("miYZ"),t("tsqr")),r=t("q1tI"),s=t.n(r),c=t("WHYC"),o=t("9kvl"),m=t("b1st"),i=t.n(m),u=(t("IzEo"),t("bx4M")),d=(t("14J3"),t("BMrR")),p=(t("+L6B"),t("2/Rp")),g=t("G/yU"),b=t("bIAK"),E=function(e){var a=e.data,t=e.status,n=e.isLoading_data,l=e.isError_data,r=e.onSubmit,c=e.onDelete;return s.a.createElement(u["a"],{style:{marginTop:"2em"}},s.a.createElement("p",{className:i.a.title},"Keranjang Belanja"),200!==t||l?s.a.createElement(g["a"],null):null,n?s.a.createElement(b["default"],null):s.a.createElement("table",{className:i.a.table},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Unit"),s.a.createElement("th",null,"Satuan"),s.a.createElement("th",null,"Harga"),s.a.createElement("th",null,"Jumlah"),s.a.createElement("th",null,"Diskon"),s.a.createElement("th",null,"1.1"),s.a.createElement("th",null,"Tax 10%"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.barang&&a.barang.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.nama_barang),s.a.createElement("td",null,e.qty),s.a.createElement("td",null,e.satuan_barang),s.a.createElement("td",null,e.harga),s.a.createElement("td",null,e.jumlah),s.a.createElement("td",null,Math.ceil(e.diskon).toLocaleString("id")),s.a.createElement("td",null,e.t11),s.a.createElement("td",null,e.tax),s.a.createElement("td",null,s.a.createElement(p["a"],{onClick:function(){return c(e.no)},type:"primary",danger:!0},"Hapus")))})),s.a.createElement("tr",null,s.a.createElement("td",{style:{fontWeight:"bold"}},"Pengiriman"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,Number(a.ongkir).toLocaleString("id")),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null)),s.a.createElement("tr",null,s.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,a.total_harga),s.a.createElement("td",null,a.total_diskon),s.a.createElement("td",null,a.total_t11),s.a.createElement("td",null,a.total_tax)))),s.a.createElement(d["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(p["a"],{type:"primary",onClick:r},"Bayar")))},v=E,h=(t("5NDa"),t("5rEg")),k=(t("T2oS"),t("W9HT")),j=t("CzAe"),N=t("Pt6z"),f=t("ZS4f"),y=t("R277"),x=t("P5uD"),O=t("LuAL"),_=function(e){var a=e.onCreate,t=Object(r["useState"])(!1),l=Object(n["a"])(t,2),c=l[0],o=l[1],m=Object(N["a"])(),b=Object(n["a"])(m,5),E=b[0],v=b[1],_=b[2],S=b[3],C=b[4],T=Object(N["a"])(),B=Object(n["a"])(T,5),D=B[0],q=B[1],w=B[2],L=B[3],J=B[4],H=Object(f["a"])(1),I=Object(n["a"])(H,3),F=I[0],M=I[1],P=I[2],R=Object(y["a"])(""),A=Object(n["a"])(R,3),W=A[0],z=A[1],K=A[2],G=Object(y["a"])("0"),U=Object(n["a"])(G,3),Y=U[0],Z=U[1],X=U[2],Q=Object(y["a"])(""),V=Object(n["a"])(Q,3),$=V[0],ee=V[1],ae=V[2],te=Object(j["a"])();Object(r["useEffect"])((function(){te.values&&C("".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(te.values))}),[te.values]),Object(r["useEffect"])((function(){te.values&&J("".concat("https://api.posarmed.id","/admin/v1/master/barang/hargacheck?nama_barang=").concat(te.values,"&id_satuan_barang=").concat(F))}),[te.values,F]),Object(r["useEffect"])((function(){return W&&$&&te.values?o(!1):o(!0)}),[te.values,W,$]);var ne=JSON.stringify({nama_barang:te.values,qty_barang:$,harga:W,id_satuan_barang:F,diskon:Y}),le=function(){ae(),X(),K(),P(),te.clearText()},re=function(){a({json:ne,clear:le})},se=function(){return w?null:200!==q||L?s.a.createElement("i",{style:{color:"red"}},"can't get harga avg"):s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("span",null,D.avg?"Harga Rata-rata ".concat(Math.floor(D.avg).toLocaleString()):null))};return s.a.createElement(u["a"],null,s.a.createElement("p",{className:i.a.title},"Input Barang"),200!==v||S?s.a.createElement(g["a"],{status:v}):null,s.a.createElement(d["a"],null,s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label,htmlFor:"barang"},"Nama Barang"),s.a.createElement(x["a"],{id:"barang",value:te.text,onChange:te.changeText,onSelect:te.selectText}))),s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label},"Stok Gudang"),_?s.a.createElement(k["a"],null):s.a.createElement(h["a"],{className:i.a.input,disabled:!0,value:E.qty_gudang||0}))),s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label},"Stok Display"),_?s.a.createElement(k["a"],null):s.a.createElement(h["a"],{className:i.a.input,disabled:!0,value:E.qty_display||0})))),s.a.createElement(d["a"],null,s.a.createElement("div",{className:i.a.box3},s.a.createElement(d["a"],{justify:"space-between"},s.a.createElement("div",{className:i.a.box5},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label,htmlFor:"qty"},"Banyak Barang"),s.a.createElement(h["a"],{className:i.a.input,id:"qty",placeholder:"0",value:$,onChange:ee}))),te.values?s.a.createElement("div",{className:i.a.box5},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label},"Satuan Barang"),s.a.createElement(O["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(te.values),select_id:"qty_barang",handleChange:M}))):null)),s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label,htmlFor:"harga"},"Harga Satuan"),s.a.createElement(h["a"],{className:i.a.input,bordercolor:Number(W)<Number(D&&D.avg)?"#be1e2d":"#d9d9d9",id:"harga",placeholder:"0",value:W,onChange:z}),se())),s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label,htmlFor:"diskon"},"Diskon"),s.a.createElement(h["a"],{className:i.a.input,id:"diskon",placeholder:"0",value:Y,onChange:Z})))),s.a.createElement(d["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(p["a"],{type:"primary",onClick:re,disabled:c,style:{marginRight:"1em"}},"Tambahkan ke keranjang")))},S=_,C=function(e){var a=e.ongkir,t=e.nama_ekspedisi,n=e.isDisabled_ekspedisi,l=e.onChangeOngkir,r=e.onChangeState,c=e.onCreate;return s.a.createElement(u["a"],{style:{marginTop:"2em"}},s.a.createElement("p",{className:i.a.title},"Pengiriman (Optional) "),s.a.createElement(d["a"],null,s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label,htmlFor:"nama_ekspedisi"},"Nama Ekspedisi"),s.a.createElement(h["a"],{type:"text",className:i.a.input,id:"nama_ekspedisi",placeholder:"Isi Nama Ekspedisi",value:t,onChange:r}))),s.a.createElement("div",{className:i.a.box3},s.a.createElement("div",{className:i.a.group},s.a.createElement("label",{className:i.a.label},"Ongkos Kirim"),s.a.createElement(h["a"],{className:i.a.input,id:"ongkir",placeholder:"Isi Ongkir",value:a,onChange:l})))),s.a.createElement(d["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(p["a"],{type:"primary",onClick:c,disabled:n},"Tambahkan ke keranjang")))},T=C;l["a"].config({top:100,duration:5,maxCount:1});var B=function(){var e=Object(r["useState"])(""),a=Object(n["a"])(e,2),t=a[0],m=a[1],u=Object(r["useState"])(!1),d=Object(n["a"])(u,2),p=d[0],g=d[1],b=Object(y["a"])(""),E=Object(n["a"])(b,3),h=E[0],k=E[1],j=E[2],f=Object(c["l"])().id,x=Object(N["a"])(),O=Object(n["a"])(x,6),_=O[0],C=O[1],B=O[2],D=O[3],q=O[4],w=O[5];Object(r["useEffect"])((function(){var e=setTimeout((function(){q("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(f,"/select"))}),0);return function(){return clearTimeout(e)}}),[]),Object(r["useEffect"])((function(){return g(!h||!t)}),[t,h]);var L=JSON.stringify({ongkir:h,nama_ekspedisi:t}),J=function(e){var a=e.target.value;m(a)},H=function(){m(""),j()},I=function(){return _.barang.length?o["d"].push("/sales/pos/".concat(f,"/pembayaran")):(l["a"].error("Mohon lengkapi keranjang"),!1)},F=function(e){var a=e.json,t=e.clear;w("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(f,"/update"),a,t)},M=function(){w("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(f,"/update"),L,H)},P=function(e){w("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(f,"/delete"),JSON.stringify({no:e}),H)};return s.a.createElement("div",null,s.a.createElement("p",{className:i.a.title},"Point of Sales"),s.a.createElement(S,{onCreate:F}),s.a.createElement(T,{ongkir:String(h),nama_ekspedisi:t,isDisabled_ekspedisi:p,onChangeOngkir:k,onChangeState:J,onCreate:M}),s.a.createElement(v,{data:_,status:Number(C),isLoading_data:Boolean(B),isError_data:D,onSubmit:I,onDelete:P}))};a["default"]=B},b1st:function(e,a,t){e.exports={title:"antd-pro-pages-sales-pos-keranjang-index-title",row:"antd-pro-pages-sales-pos-keranjang-index-row",modal_body:"antd-pro-pages-sales-pos-keranjang-index-modal_body",col:"antd-pro-pages-sales-pos-keranjang-index-col",box3:"antd-pro-pages-sales-pos-keranjang-index-box3",box5:"antd-pro-pages-sales-pos-keranjang-index-box5",box10:"antd-pro-pages-sales-pos-keranjang-index-box10",group:"antd-pro-pages-sales-pos-keranjang-index-group",label:"antd-pro-pages-sales-pos-keranjang-index-label",input:"antd-pro-pages-sales-pos-keranjang-index-input",button:"antd-pro-pages-sales-pos-keranjang-index-button",span:"antd-pro-pages-sales-pos-keranjang-index-span",area:"antd-pro-pages-sales-pos-keranjang-index-area",table:"antd-pro-pages-sales-pos-keranjang-index-table"}}}]);
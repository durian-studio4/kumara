(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{DeMl:function(e,a,t){"use strict";t.r(a);var n=t("o0o1"),r=t.n(n),l=t("HaE+"),o=t("ODXe"),c=t("q1tI"),s=t.n(c),d=t("WHYC"),u=t("p46w"),i=t.n(u),m=t("TUsf"),p=t.n(m),g=(t("IzEo"),t("bx4M")),b=(t("+L6B"),t("2/Rp")),E=(t("14J3"),t("BMrR")),v=(t("5NDa"),t("5rEg")),y=(t("T2oS"),t("W9HT")),j=t("P5uD"),h=t("LuAL"),x=t("G/yU"),f=t("CzAe"),N=t("R277"),k=t("ZS4f"),q=t("Pt6z"),O=function(e){var a=e.onCreate,t=Object(q["a"])(),n=Object(o["a"])(t,5),r=n[0],l=n[1],d=n[2],u=n[3],i=n[4],m=Object(c["useState"])(!1),O=Object(o["a"])(m,2),_=O[0],S=O[1],w=Object(N["a"])(""),T=Object(o["a"])(w,3),B=T[0],C=T[1],D=T[2],L=Object(N["a"])(""),H=Object(o["a"])(L,3),J=H[0],R=H[1],z=H[2],A=Object(f["a"])(),I=Object(k["a"])("0"),M=Object(o["a"])(I,2),U=M[0],F=M[1];Object(c["useEffect"])((function(){A.values&&i("".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(A.values))}),[A.values]),Object(c["useMemo"])((function(){return B&&J&&A.values?S(!1):S(!0)}),[A.values,B,J]);var W=JSON.stringify({qty:J,harga:B,id_satuan_barang:U,nama_barang:A.values}),G=function(){D(),z()},P=function(){a({json:W,clear:G})};return s.a.createElement(g["a"],null,s.a.createElement("p",{className:p.a.title},"Input Barang"),200!==l||u?s.a.createElement(x["a"],null):null,s.a.createElement(E["a"],null,s.a.createElement("div",{className:p.a.box3},s.a.createElement("div",{className:p.a.group},s.a.createElement("label",{className:p.a.label,htmlFor:"barang"},"Nama Barang"),s.a.createElement(j["a"],{id:"barang",value:A.text,onChange:A.changeText,onSelect:A.selectText}))),s.a.createElement("div",{className:p.a.box3},s.a.createElement("div",{className:p.a.group},s.a.createElement("label",{className:p.a.label},"Stok Gudang"),d?s.a.createElement(y["a"],null):s.a.createElement(v["a"],{className:p.a.input,disabled:!0,value:r.qty_gudang||0}))),s.a.createElement("div",{className:p.a.box3},s.a.createElement("div",{className:p.a.group},s.a.createElement("label",{className:p.a.label},"Stok Display"),d?s.a.createElement(y["a"],null):s.a.createElement(v["a"],{className:p.a.input,disabled:!0,value:r.qty_display||0})))),s.a.createElement(E["a"],null,s.a.createElement("div",{className:p.a.box3},s.a.createElement(E["a"],{justify:"space-between"},s.a.createElement("div",{className:p.a.box5},s.a.createElement("div",{className:p.a.group},s.a.createElement("label",{className:p.a.label,htmlFor:"qty"},"Banyak Barang"),s.a.createElement(v["a"],{className:p.a.input,id:"qty",placeholder:"0",value:J,onChange:R}))),A.values?s.a.createElement("div",{className:p.a.box5},s.a.createElement("div",{className:p.a.group},s.a.createElement("label",{className:p.a.label},"Satuan Barang"),s.a.createElement(h["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(A.values),handleChange:F}))):null)),s.a.createElement("div",{className:p.a.box3},s.a.createElement("div",{className:p.a.group},s.a.createElement("label",{className:p.a.label,htmlFor:"harga"},"Harga Satuan"),s.a.createElement(v["a"],{className:p.a.input,id:"harga",placeholder:"0",value:B,onChange:C})))),s.a.createElement(E["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(b["a"],{type:"primary",onClick:P,disabled:_,style:{marginRight:"1em"}},"Tambahkan ke daftar")))},_=O,S=t("bIAK"),w=function(e){var a=e.data,t=e.status,n=e.isLoading_data,r=e.isError_data,l=e.isLoading_order,o=e.onSubmit,c=e.onDelete,d=a&&a.barang;return s.a.createElement(g["a"],{style:{marginTop:"2em"}},s.a.createElement("p",{className:p.a.title},"Daftar barang yang akan diorder"),r||200!==t?s.a.createElement(x["a"],null):null,n?s.a.createElement(S["default"],null):s.a.createElement("table",{className:p.a.table},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"No."),s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Satuan Barang"),s.a.createElement("th",null,"Unit"),s.a.createElement("th",null,"Harga"),s.a.createElement("th",null,"Jumlah"),s.a.createElement("th",null))),s.a.createElement("tbody",null,d&&d.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.no),s.a.createElement("td",null,e.nama_barang),s.a.createElement("td",null,e.satuan_barang),s.a.createElement("td",null,e.qty),s.a.createElement("td",null,e.harga),s.a.createElement("td",null,e.jumlah),s.a.createElement("td",null,s.a.createElement(b["a"],{className:p.a.button,onClick:function(){return c(e.no)},type:"primary",danger:!0},"Hapus")))})),s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,a?a.total_harga:null),s.a.createElement("td",null)))),s.a.createElement(E["a"],{justify:"end"},s.a.createElement(b["a"],{className:p.a.button,type:"primary",onClick:o,disabled:Boolean(l)},"Order")))},T=w,B=function(){var e=Object(c["useState"])(!1),a=Object(o["a"])(e,2),t=a[0],n=a[1],u=Object(c["useState"])(!1),m=Object(o["a"])(u,2),g=m[0],b=m[1],E=Object(d["l"])(),v=Object(q["a"])(),y=Object(o["a"])(v,6),j=y[0],h=y[1],x=y[2],f=y[3],N=y[4],k=y[5];Object(c["useEffect"])((function(){var e=setTimeout((function(){N("".concat("https://api.posarmed.id","/admin/v1/inventory/order/request/").concat(E.id,"/select"))}),0);return function(){return clearTimeout(e)}}),[]);var O=function(){var e=Object(l["a"])(r.a.mark((function e(){var a,t,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/inventory/order/request/").concat(E.id,"/order"),{method:"post",headers:{Authorization:String(i.a.get("token"))}});case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t.message;case 10:return l=e.sent,n(!0),b(!1),e.abrupt("return",l);case 16:e.prev=16,e.t0=e["catch"](1),b(!1);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){var a=e.json,t=e.clear;k("".concat("https://api.posarmed.id","/admin/v1/inventory/order/request/").concat(E.id,"/update"),a,t)},w=function(){return console.log("deleted")},B=function(e){k("".concat("https://api.posarmed.id","/admin/v1/inventory/order/request/").concat(E.id,"/delete"),JSON.stringify({no:e}),w)};return t?s.a.createElement(d["c"],{to:"/inventory/confirm"}):s.a.createElement("div",null,s.a.createElement("p",{className:p.a.title},"Request Order"),s.a.createElement(_,{onCreate:S}),s.a.createElement(T,{data:j,status:Number(h),isLoading_data:Boolean(x),isError_data:f,isLoading_order:g,onSubmit:O,onDelete:B}))};a["default"]=B},TUsf:function(e,a,t){e.exports={title:"antd-pro-pages-inventory-order-request-keranjang-index-title",title_add:"antd-pro-pages-inventory-order-request-keranjang-index-title_add",row:"antd-pro-pages-inventory-order-request-keranjang-index-row",row_box:"antd-pro-pages-inventory-order-request-keranjang-index-row_box",modal_body:"antd-pro-pages-inventory-order-request-keranjang-index-modal_body",col:"antd-pro-pages-inventory-order-request-keranjang-index-col",box3:"antd-pro-pages-inventory-order-request-keranjang-index-box3",box5:"antd-pro-pages-inventory-order-request-keranjang-index-box5",box6:"antd-pro-pages-inventory-order-request-keranjang-index-box6",box10:"antd-pro-pages-inventory-order-request-keranjang-index-box10",group:"antd-pro-pages-inventory-order-request-keranjang-index-group",label:"antd-pro-pages-inventory-order-request-keranjang-index-label",input:"antd-pro-pages-inventory-order-request-keranjang-index-input",button:"antd-pro-pages-inventory-order-request-keranjang-index-button",area:"antd-pro-pages-inventory-order-request-keranjang-index-area",span:"antd-pro-pages-inventory-order-request-keranjang-index-span",p:"antd-pro-pages-inventory-order-request-keranjang-index-p",table:"antd-pro-pages-inventory-order-request-keranjang-index-table"}}}]);
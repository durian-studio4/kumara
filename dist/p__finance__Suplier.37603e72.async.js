(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{GBMO:function(e,a,n){"use strict";n.r(a);n("+L6B");var t=n("2/Rp"),i=(n("5NDa"),n("5rEg")),r=n("ODXe"),l=n("q1tI"),c=n.n(l),o=n("IZNH"),d=n.n(o),s=(n("g9YV"),n("wCAj")),u=(n("14J3"),n("BMrR")),p=(n("sRBo"),n("kaz8")),m=n("VTBJ"),f=n("F6Wq"),b=n("G/yU"),g=function(e){var a=e.data,n=e.status,i=e.loading,o=e.error,g=e.handleVisibleConfirm,_=e.handleVisibleUpdate,v=Object(f["a"])(),O=Object(r["a"])(v,1),x=O[0],y=[];for(var j in a)y.push({id_order:j,id:a[j][0].id,tanggal:a[j][0].tanggal,nama_suplier:a[j][0].nama_suplier,nama_barang:a[j][0].nama_barang,satuan_barang:a[j][0].satuan_barang,total:a[j][0].total,confirm_sales:a[j][0].confirm_sales,confirm_finance:a[j][0].confirm_finance});var E=Object(l["useMemo"])((function(){return[{align:"center",title:"No",dataIndex:"id"},Object(m["a"])({align:"center",title:"Tanggal",dataIndex:"tanggal"},x("tanggal")),Object(m["a"])({align:"center",title:"Nama Suplier",dataIndex:"nama_suplier"},x("nama_suplier")),Object(m["a"])({align:"center",title:"Nama Barang",dataIndex:"nama_barang"},x("nama_barang")),Object(m["a"])({align:"center",title:"Satuan Barang",dataIndex:"satuan_barang"},x("satuan_barang")),Object(m["a"])({align:"center",title:"Total",dataIndex:"total"},x("total")),{align:"center",title:"Detail Barang",render:function(e){var a=e.id_order;return c.a.createElement(t["a"],{type:"primary",onClick:function(){return _(a)}},"Detail")}},{align:"center",title:"Penerima",render:function(e){return c.a.createElement("span",null,c.a.createElement(p["a"],{checked:e.confirm_sales,disabled:!0}))}},{align:"center",title:"Finance",render:function(e){return c.a.createElement(p["a"],{checked:e.confirm_finance,disabled:e.confirm_finance,id:String(e.id),onClick:g})}}]}),[]);return o||200!==n?c.a.createElement(b["a"],null):c.a.createElement("div",null,c.a.createElement(u["a"],{justify:"space-between"},c.a.createElement("p",{className:d.a.title},"Suplier"),c.a.createElement("p",{className:d.a.title_add},"Approve")),c.a.createElement("div",{style:{overflow:"auto"}},c.a.createElement(s["a"],{columns:E,dataSource:y,loading:i})))},_=g,v=(n("2qtc"),n("kLXV")),O=function(e){var a=e.visible,n=e.onConfirmOrder,i=e.onCancel,r=e.id_confirm,l=function(){n({url:"".concat("https://api.posarmed.id","/admin/v1/finance/order/").concat(r,"/update"),json:JSON.stringify({confirm_finance:1}),clear:i})};return c.a.createElement(v["a"],{visible:a,title:"Ubah Status",width:450,closable:!1,footer:null},c.a.createElement("div",{className:d.a.modal_body},c.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},"Apakah Anda Yakin Ingin Merubah Status Menjadi Selesai?"),c.a.createElement(u["a"],{style:{marginTop:"2em"},justify:"space-around"},c.a.createElement(t["a"],{type:"primary",onClick:l},"Confirmasi"),c.a.createElement(t["a"],{type:"primary",danger:!0,onClick:i},"Batal"))))},x=O,y=n("Pt6z"),j=function(e){var a=e.visible,n=e.id_update,i=e.onCancelOrder,o=e.onLoadButton,u=e.onConfirmOrder,p=e.onCancel,m=Object(y["a"])(),f=Object(r["a"])(m,5),b=f[0],g=f[1],_=f[2],O=f[3],x=f[4];Object(l["useEffect"])((function(){var e=setTimeout((function(){x("".concat("https://api.posarmed.id","/admin/v1/inventory/order/").concat(n,"/select"))}),0);return function(){return clearTimeout(e)}}),[n]);var j=function(){u({url:"".concat("https://api.posarmed.id","/admin/v1/inventory/order/").concat(n,"/konfirmasi-finance"),json:JSON.stringify({confirm_finance:1}),clear:p})},E=function(){i({url:"".concat("https://api.posarmed.id","/admin/v1/inventory/order/").concat(n,"/batal"),json:JSON.stringify({}),clear:p})},C=Object(l["useMemo"])((function(){return[{align:"center",title:"Qty Req",dataIndex:"qty_req"},{align:"center",title:"Qty Conf",dataIndex:"qty_confirm"},{align:"center",title:"Nama Barang",dataIndex:"nama_barang"},{align:"center",title:"Expired Date",dataIndex:"expired_date"}]}),[]);return c.a.createElement(v["a"],{visible:a,title:"Detail Suplier",onCancel:p,footer:null,width:600},c.a.createElement("div",{className:d.a.modal_body},200!==g||O?c.a.createElement("h1",null,"Something went wrong"):null,b?c.a.createElement(s["a"],{columns:C,loading:Boolean(_),dataSource:b.detail}):null),c.a.createElement(t["a"],{style:{width:"100%"},className:d.a.button,type:"primary",danger:!0,id:"cancel",disabled:o,onClick:E},"Cancel Order"),c.a.createElement(t["a"],{style:{width:"100%"},className:d.a.button,type:"primary",id:"confirm",disabled:o,onClick:j},"Confirm Order"))},E=j,C=n("jC83"),h=function(){var e=Object(l["useState"])(""),a=Object(r["a"])(e,2),n=a[0],o=a[1],s=Object(l["useState"])(!1),u=Object(r["a"])(s,2),p=u[0],m=u[1],f=Object(l["useState"])(!1),b=Object(r["a"])(f,2),g=b[0],v=b[1],O=Object(l["useState"])(""),j=Object(r["a"])(O,2),h=j[0],S=j[1],N=Object(l["useState"])(""),w=Object(r["a"])(N,2),k=w[0],B=w[1],I=Object(y["a"])(),T=Object(r["a"])(I,5),q=T[0],D=T[1],J=T[2],V=T[3],M=T[4],A=Object(C["a"])(),L=Object(r["a"])(A,3),R=L[0],U=L[1],z=L[2];Object(l["useEffect"])((function(){var e=setTimeout((function(){M("".concat("https://api.posarmed.id","/admin/v1/inventory/order/list"))}),0);return function(){return clearTimeout(e)}}),[U]);var F=Object(l["useCallback"])((function(){M("".concat("https://api.posarmed.id","/admin/v1/inventory/order/list?filter=").concat(n)),o("")}),[M,n]),G=function(e){var a=e.target.id;B(a),m(!p)},H=function(e){S(e),v(!g)},P=function(e){"enter"===e.key.toLowerCase()&&F()},Q=function(){B(""),m(!1)},W=function(){S(""),v(!1)},X=function(e){o(e.target.value)},Y=function(e){var a=e.url,n=e.json,t=e.clear;z(a,n,t)},Z=function(e){var a=e.url,n=e.json,t=e.clear;z(a,n,t)};return c.a.createElement("div",null,c.a.createElement("p",{className:d.a.title},"Suplier"),c.a.createElement("div",{className:d.a.row_box},c.a.createElement(i["a"],{className:d.a.input_title,id:"name",type:"text",placeholder:"Search Suplier",onChange:X,value:n,onKeyDown:P}),c.a.createElement(t["a"],{className:d.a.button_title,type:"primary",onClick:F},"Cari")),c.a.createElement(_,{data:q,status:Number(D),loading:Boolean(J),error:Boolean(V),handleVisibleConfirm:G,handleVisibleUpdate:H}),p?c.a.createElement(x,{visible:p,onCancel:Q,onConfirmOrder:Y,id_confirm:k}):null,g?c.a.createElement(E,{visible:g,id_update:h,onConfirmOrder:Y,onCancelOrder:Z,onCancel:W,onLoadButton:Boolean(R)}):null)};a["default"]=h},IZNH:function(e,a,n){e.exports={title:"antd-pro-pages-finance-suplier-index-title",title_add:"antd-pro-pages-finance-suplier-index-title_add",row_box:"antd-pro-pages-finance-suplier-index-row_box",modal_body:"antd-pro-pages-finance-suplier-index-modal_body",col:"antd-pro-pages-finance-suplier-index-col",box3:"antd-pro-pages-finance-suplier-index-box3",box5:"antd-pro-pages-finance-suplier-index-box5",box10:"antd-pro-pages-finance-suplier-index-box10",group:"antd-pro-pages-finance-suplier-index-group",label:"antd-pro-pages-finance-suplier-index-label",input:"antd-pro-pages-finance-suplier-index-input",input_title:"antd-pro-pages-finance-suplier-index-input_title",button:"antd-pro-pages-finance-suplier-index-button",button_title:"antd-pro-pages-finance-suplier-index-button_title",area:"antd-pro-pages-finance-suplier-index-area",p:"antd-pro-pages-finance-suplier-index-p"}}}]);
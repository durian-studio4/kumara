(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{THwM:function(e,a,t){"use strict";t.r(a);t("14J3");var l=t("BMrR"),n=(t("+L6B"),t("2/Rp")),r=(t("5NDa"),t("5rEg")),c=t("ODXe"),i=t("q1tI"),o=t.n(i),s=t("ZyMt"),m=t.n(s),u=(t("g9YV"),t("wCAj")),d=t("VTBJ"),p=t("F6Wq"),b=t("G/yU"),E=function(e){var a=e.data,t=e.loading,r=e.status,s=e.error,E=e.onUpdate,v=e.remove,x=Object(p["a"])(),g=Object(c["a"])(x,1),N=g[0],h=Object(i["useMemo"])((function(){return[{align:"center",title:"No",dataIndex:"id"},Object(d["a"])({align:"center",title:"Nama Suplier",dataIndex:"name"},N("name")),Object(d["a"])({align:"center",title:"Alamat",dataIndex:"alamat"},N("alamat")),Object(d["a"])({align:"center",title:"NPWP",dataIndex:"npwp"},N("npwp")),Object(d["a"])({align:"center",title:"No. Telp",dataIndex:"phone"},N("phone")),Object(d["a"])({align:"center",title:"Email",dataIndex:"email"},N("email")),{align:"center",fixed:"right",render:function(e){return o.a.createElement(l["a"],{justify:"space-around"},o.a.createElement(n["a"],{className:m.a.button,id:e.id,onClick:function(){return E(e.id)},type:"primary"},"Edit"),o.a.createElement(n["a"],{className:m.a.button,id:e.id,onClick:function(){return v(e.id)},type:"primary",danger:!0},"Delete"))}}]}),[]);return s||200!==r?o.a.createElement(b["a"],null):o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(u["a"],{columns:h,loading:t,dataSource:a.reverse(),scroll:{x:1300}}),";")},v=E,x=(t("2qtc"),t("kLXV")),g=t("rePB"),N=t("+f7l"),h=t("PI94"),f=t("LfEe"),j=t("c6cn"),O=t("CzAe"),k=t("u1pk"),S={name:"",alamat:"",npwp:"",email:"",phone:""},C=function(e){var a=e.visible,t=e.onCancel,s=e.onCreate,u=e.onLoadButton,p=(e.onError,Object(i["useState"])(S)),b=Object(c["a"])(p,2),E=b[0],v=E.name,C=E.alamat,y=E.npwp,T=E.email,_=E.phone,w=b[1],F=Object(i["useState"])(!1),I=Object(c["a"])(F,2),P=I[0],B=I[1],K=Object(O["a"])(),L=Object(O["a"])(),A=Object(O["a"])(),D=Object(O["a"])(),J=Object(k["a"])(A.id);Object(i["useEffect"])((function(){return v&&C&&T&&_&&K.id&&L.id&&A.id&&D.id?B(!1):B(!0)}),[C,T,A.id,D.id,L.id,v,_,K.id]);var W=JSON.stringify({name:v,alamat:C,npwp:y,email:T,phone:_,id_provinsi:K.id,id_kota:L.id,id_kecamatan:A.id,id_kelurahan:D.id}),M=function(e){var a=e.target,t=a.id,l=a.value;w((function(e){return Object(d["a"])(Object(d["a"])({},e),{},Object(g["a"])({},t,l))}))},U=function(){w(Object(d["a"])({},S)),t()},q=function(){s({json:W,clear:U})};return o.a.createElement(x["a"],{visible:a,title:"Tambah Daftar Suplier",closable:!1,footer:null,width:700},o.a.createElement("div",{className:m.a.modal_body},o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"name"},"Nama Supplier"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:v,onChange:M}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:C,onChange:M}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:y,onChange:M})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"email"},"Email"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"email",placeholder:"Isi Email",value:T,onChange:M}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(_).replace(/[^-0-9]/g,""),onChange:M}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(N["a"],{id:"provinsi",value:K.text,onChange:K.changeText,onSelect:K.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(h["a"],{id:"kota",value:L.text,onChange:L.changeText,onSelect:L.selectText,onClear:L.clearText,filter:String(K.id)}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(f["a"],{id:"kecamatan",value:A.text,onChange:A.changeText,onSelect:A.selectText,onClear:A.clearText,filter:String(L.id)}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(j["a"],{id:"kelurahan",value:D.text,onChange:D.changeText,onSelect:D.selectText,onClear:D.clearText,filter:String(A.id)})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"kode",disabled:!0,value:J.kode||0}))))),o.a.createElement(l["a"],{justify:"end"},o.a.createElement(n["a"],{className:m.a.button,onClick:U,disabled:u,type:"primary",danger:!0},"Batal"),o.a.createElement(n["a"],{className:m.a.button,onClick:q,disabled:P||u,type:"primary"},"Tambah")))},y=C,T=(t("jCWc"),t("kPKH")),_=t("Pt6z"),w=t("o0o1"),F=t.n(w),I=t("HaE+");function P(e){var a=Object(i["useState"])(""),t=Object(c["a"])(a,2),l=t[0],n=t[1],r=Object(i["useState"])(0),o=Object(c["a"])(r,2),s=o[0],m=o[1],u=Object(i["useState"])(!1),d=Object(c["a"])(u,2),p=d[0],b=d[1];Object(i["useEffect"])((function(){n(e)}),[e]),Object(i["useEffect"])((function(){var e=setTimeout((function(){l&&(E(),m(0))}),0);return function(){return clearTimeout(e)}}),[l]);var E=function(){var e=Object(I["a"])(F.a.mark((function e(){var a,t,n;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("".concat("http://127.0.0.1:8000","/admin/v1/general/kodepos?id_kecamatan=").concat(l));case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t;case 10:n=e.sent,m(n.data[0].kode_pos),b(!1),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](1),b(!1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return{kode:s,isLoading:p}}var B=P;function K(e){var a=e.idSelect,t=e.textSelect,l=Object(i["useState"])(""),n=Object(c["a"])(l,2),r=n[0],o=n[1],s=Object(i["useState"])(""),m=Object(c["a"])(s,2),u=(m[0],m[1]),d=Object(i["useState"])(0),p=Object(c["a"])(d,2),b=p[0],E=p[1];Object(i["useEffect"])((function(){var e=setTimeout((function(){o(t),E(a)}),0);return function(){return clearTimeout(e)}}),[a,t]);var v=function(e){o(e)},x=function(e,a){o(e),E(e),u()},g=function(){o("")};return{text:r,id:b,changeText:v,selectText:x,clearText:g}}var L=K,A=t("bIAK"),D={name:"",alamat:"",npwp:"",email:"",phone:"",id_kelurahan:0,kelurahan:"",id_kecamatan:0,kecamatan:"",id_kota:0,kota:"",id_provinsi:0,provinsi:"",id_kode_pos:0,kode_pos:""},J=function(e){var a=e.id_update,t=e.visible,s=e.onUpdate,u=e.onCancel,p=(e.onError,e.onLoadButton),E=Object(_["a"])(),v=Object(c["a"])(E,5),O=v[0],k=v[1],S=v[2],C=v[3],y=v[4],w=Object(i["useState"])(D),F=Object(c["a"])(w,2),I=F[0],P=F[1],K=I.name,J=I.alamat,W=I.npwp,M=I.email,U=I.phone,q=Object(i["useState"])(!1),H=Object(c["a"])(q,2),V=H[0],z=H[1],R=L({idSelect:I.id_provinsi,textSelect:I.provinsi}),X=L({idSelect:I.id_kota,textSelect:I.kota}),Z=L({idSelect:I.id_kecamatan,textSelect:I.kecamatan}),G=L({idSelect:I.id_kelurahan,textSelect:I.kelurahan}),Y=B(Z.id);Object(i["useEffect"])((function(){var e=setTimeout((function(){y("".concat("http://127.0.0.1:8000","/admin/v1/master/suplier/").concat(a,"/select"))}),0);return function(){return clearTimeout(e)}}),[a]),Object(i["useEffect"])((function(){O&&P(O)}),[O]),Object(i["useEffect"])((function(){return R.id&&X.id&&Z.id&&G.id?z(!1):z(!0)}),[Z.id,G.id,X.id,R.id]);var Q=JSON.stringify({name:K,alamat:J,npwp:W,email:M,phone:U,id_provinsi:R.id,id_kota:X.id,id_kecamatan:Z.id,id_kelurahan:G.id}),$=function(e){var a=e.target,t=a.id,l=a.value;P((function(e){return Object(d["a"])(Object(d["a"])({},e),{},Object(g["a"])({},t,l))}))},ee=function(){P(Object(d["a"])({},D)),u()},ae=function(){s({url:"".concat("http://127.0.0.1:8000","/admin/v1/master/suplier/").concat(a,"/update"),json:Q,clear:ee})};return o.a.createElement(x["a"],{visible:t,title:"Edit Data Suplier",onCancel:ee,footer:null,width:600},200!==k||C?o.a.createElement(b["a"],null):null,S?o.a.createElement(A["a"],null):o.a.createElement("div",{className:m.a.modal_body},o.a.createElement(T["a"],null,o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"name"},"Nama Supplier"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"name",placeholder:"Isi Nama",value:K,onChange:$}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"alamat"},"Alamat"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"alamat",placeholder:"Isi Alamat",value:J,onChange:$}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"npwp"},"NPWP (Optional)"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"npwp",placeholder:"Isi NPWP",value:W,onChange:$})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"email"},"Email"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"email",placeholder:"Isi Email",value:M,onChange:$}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"phone"},"No. Telpon"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"phone",placeholder:"Isi No Telepon",value:String(U).replace(/[^-0-9]/g,""),onChange:$}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"provinsi"},"Provinsi"),o.a.createElement(N["a"],{id:"provinsi",value:R.text,onChange:R.changeText,onSelect:R.selectText})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kota"},"Kota"),o.a.createElement(h["a"],{id:"kota",value:X.text,onChange:X.changeText,onSelect:X.selectText,onClear:X.clearText,filter:R.text}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kecamatan"},"Kecamatan"),o.a.createElement(f["a"],{id:"kecamatan",value:Z.text,onChange:Z.changeText,onSelect:Z.selectText,onClear:Z.clearText,filter:X.text}))),o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kelurahan"},"Kelurahan"),o.a.createElement(j["a"],{id:"kelurahan",value:G.text,onChange:G.changeText,onSelect:G.selectText,onClear:G.clearText,filter:Z.text})))),o.a.createElement(l["a"],null,o.a.createElement("div",{className:m.a.box3},o.a.createElement("div",{className:m.a.group},o.a.createElement("label",{className:m.a.label,htmlFor:"kode"},"Kode Pos"),o.a.createElement(r["a"],{className:m.a.input,type:"text",id:"kode",disabled:!0,value:Y.kode||0})))))),o.a.createElement(l["a"],{justify:"end"},o.a.createElement(n["a"],{disabled:V||p,onClick:ae,type:"primary"},"Simpan")))},W=J,M=t("jC83"),U=function(){var e=Object(i["useState"])(""),a=Object(c["a"])(e,2),t=a[0],s=a[1],u=Object(i["useState"])(!1),d=Object(c["a"])(u,2),p=d[0],b=d[1],E=Object(i["useState"])(!1),x=Object(c["a"])(E,2),g=x[0],N=x[1],h=Object(i["useState"])(0),f=Object(c["a"])(h,2),j=f[0],O=f[1],k=Object(M["a"])(),S=Object(c["a"])(k,3),C=S[0],T=S[1],w=S[2],F=Object(M["a"])(),I=Object(c["a"])(F,3),P=I[0],B=I[1],K=I[2],L=Object(_["a"])(),A=Object(c["a"])(L,6),D=A[0],J=A[1],U=A[2],q=A[3],H=A[4],V=A[5];Object(i["useEffect"])((function(){var e=setTimeout((function(){H("".concat("http://127.0.0.1:8000","/admin/v1/master/suplier/list"))}),0);return function(){return clearTimeout(e)}}),[T]);var z=Object(i["useCallback"])((function(){H("".concat("http://127.0.0.1:8000","/admin/v1/master/suplier/list?filter=").concat(t)),s("")}),[H,t]),R=function(e){"enter"===e.key.toLowerCase()&&z()},X=function(){return b(!p)},Z=function(e){O(Number(e)),N(!0)},G=function(){O(0),N(!1)},Y=function(e){s(e.target.value)},Q=function(e){var a=e.json,t=e.clear;w("".concat("http://127.0.0.1:8000","/admin/v1/master/suplier/create"),a,t)},$=function(e){var a=e.url,t=e.json,l=e.clear;K(a,t,l)},ee=function(e){V("".concat("http://127.0.0.1:8000","/admin/v1/master/suplier/").concat(e,"/delete"),JSON.stringify,G)};return o.a.createElement("div",null,o.a.createElement("p",{className:m.a.title},"Data Suplier"),o.a.createElement("div",{className:m.a.row_box},o.a.createElement(r["a"],{className:m.a.input_title,id:"name_barang",type:"text",placeholder:"Search Pelanggan",onChange:Y,value:t,onKeyDown:R}),o.a.createElement(n["a"],{className:m.a.button_title,type:"primary",onClick:z},"Cari")),o.a.createElement(l["a"],{justify:"end"},o.a.createElement("p",{className:m.a.title_add,onClick:X},"+ Tambah")),o.a.createElement(v,{data:D,loading:Boolean(U),status:Number(J),error:Boolean(q),remove:ee,onUpdate:Z}),p?o.a.createElement(y,{visible:p,onCreate:Q,onCancel:X,onLoadButton:Boolean(C),onError:T}):null,g?o.a.createElement(W,{visible:g,onCancel:G,onUpdate:$,onError:B,onLoadButton:Boolean(P),id_update:j}):null)};a["default"]=U},ZyMt:function(e,a,t){e.exports={title:"antd-pro-pages-master-suplier-index-title",title_add:"antd-pro-pages-master-suplier-index-title_add",row:"antd-pro-pages-master-suplier-index-row",row_box:"antd-pro-pages-master-suplier-index-row_box",modal_body:"antd-pro-pages-master-suplier-index-modal_body",col:"antd-pro-pages-master-suplier-index-col",box3:"antd-pro-pages-master-suplier-index-box3",box5:"antd-pro-pages-master-suplier-index-box5",box6:"antd-pro-pages-master-suplier-index-box6",box10:"antd-pro-pages-master-suplier-index-box10",group:"antd-pro-pages-master-suplier-index-group",label:"antd-pro-pages-master-suplier-index-label",input:"antd-pro-pages-master-suplier-index-input",input_title:"antd-pro-pages-master-suplier-index-input_title",button:"antd-pro-pages-master-suplier-index-button",button_title:"antd-pro-pages-master-suplier-index-button_title",area:"antd-pro-pages-master-suplier-index-area",span:"antd-pro-pages-master-suplier-index-span",p:"antd-pro-pages-master-suplier-index-p",table:"antd-pro-pages-master-suplier-index-table"}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{"4gyL":function(e,a,t){"use strict";t.r(a);var n=t("ODXe"),l=(t("miYZ"),t("tsqr")),r=t("q1tI"),s=t.n(r),c=t("WHYC"),o=t("b1st"),m=t.n(o),u=(t("IzEo"),t("bx4M")),i=(t("14J3"),t("BMrR")),d=(t("+L6B"),t("2/Rp")),p=t("G/yU"),g=t("bIAK"),b=function(e){var a=e.data,t=e.status,n=e.isLoading_data,l=e.isError_data,r=e.onSubmit,c=e.onDelete;return s.a.createElement(u["a"],{style:{marginTop:"2em"}},s.a.createElement("p",{className:m.a.title},"Keranjang Belanja"),200!==t||l?s.a.createElement(p["a"],null):null,n?s.a.createElement(g["a"],null):s.a.createElement("table",{className:m.a.table},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Nama Barang"),s.a.createElement("th",null,"Unit"),s.a.createElement("th",null,"Satuan"),s.a.createElement("th",null,"Harga"),s.a.createElement("th",null,"Jumlah"),s.a.createElement("th",null,"Diskon"),s.a.createElement("th",null,"Tax 1.1"),s.a.createElement("th",null,"Tax 10%"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.barang&&a.barang.map((function(e,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,e.nama_barang),s.a.createElement("td",null,e.qty),s.a.createElement("td",null,e.satuan_barang),s.a.createElement("td",null,e.harga),s.a.createElement("td",null,e.jumlah),s.a.createElement("td",null,Math.ceil(e.diskon).toLocaleString("id")),s.a.createElement("td",null,e.t11),s.a.createElement("td",null,e.tax),s.a.createElement("td",null,s.a.createElement(d["a"],{onClick:function(){return c(e.no)},type:"primary",danger:!0},"Hapus")))})),s.a.createElement("tr",null,s.a.createElement("td",{style:{fontWeight:"bold"}},"Pengiriman"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,Number(a.ongkir).toLocaleString("id")),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null)),s.a.createElement("tr",null,s.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,a.total_harga),s.a.createElement("td",null,a.total_diskon),s.a.createElement("td",null,a.total_t11),s.a.createElement("td",null,a.total_tax)))),s.a.createElement(i["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(d["a"],{type:"primary",onClick:r},"Bayar")))},E=b,v=(t("sRBo"),t("kaz8")),h=(t("5NDa"),t("5rEg")),f=(t("T2oS"),t("W9HT")),j=t("aZ9c"),k=t("CzAe"),N=t("Pt6z"),x=t("ZS4f");function y(e){var a=Object(r["useState"])(),t=Object(n["a"])(a,2),l=t[0],s=t[1];Object(r["useEffect"])((function(){var a=setTimeout((function(){s(e)}),0);return function(){return clearTimeout(a)}}),[e]);var c=function(e){s(e.value)},o=function(){s(e)};return[l,c,o]}var O=t("P5uD"),S=t("LuAL"),_=function(e){var a=e.onCreate,t=e.onLoading,l=Object(r["useState"])(!1),c=Object(n["a"])(l,2),o=c[0],b=c[1],E=Object(N["a"])(),_=Object(n["a"])(E,5),C=_[0],T=_[1],B=_[2],L=_[3],D=_[4],w=Object(N["a"])(),I=Object(n["a"])(w,5),R=I[0],q=I[1],J=I[2],F=I[3],G=I[4],H=Object(x["a"])(""),M=Object(n["a"])(H,3),P=M[0],U=M[1],z=M[2],A=y(""),V=Object(n["a"])(A,3),W=V[0],K=V[1],Z=V[2],Y=y(""),X=Object(n["a"])(Y,3),Q=X[0],$=X[1],ee=X[2],ae=y(""),te=Object(n["a"])(ae,3),ne=te[0],le=te[1],re=te[2],se=Object(r["useState"])(0),ce=Object(n["a"])(se,2),oe=ce[0],me=ce[1],ue=Object(k["a"])();Object(r["useEffect"])((function(){var e=setTimeout((function(){ue.values&&D("".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(encodeURIComponent(ue.values)))}),0);return function(){return clearTimeout(e)}}),[ue.values]),Object(r["useEffect"])((function(){var e=setTimeout((function(){ue.values&&P&&G("".concat("https://api.posarmed.id","/admin/v1/master/barang/hargacheck?nama_barang=").concat(encodeURIComponent(ue.values),"&id_satuan_barang=").concat(P))}),0);return function(){return clearTimeout(e)}}),[ue.values,P]),Object(r["useEffect"])((function(){z()}),[ue.values]),Object(r["useEffect"])((function(){return W&&ne&&ue.values?b(!1):b(!0)}),[ue.values,W,ne]);var ie=JSON.stringify({nama_barang:ue.values,qty_barang:ne,harga:W,id_satuan_barang:P,diskon:Q||0,isTax11:oe}),de=function(){re(),ee(),Z(),z(),me(0),ue.clearText()},pe=function(){a({json:ie,clear:de})},ge=function(){return J?null:200!==q||F?s.a.createElement("i",{style:{color:"red"}},"can't get harga avg"):s.a.createElement("div",{style:{textAlign:"center"}},R.avg?s.a.createElement("span",null,"Harga Rata-rata ".concat(Math.floor(R.avg).toLocaleString())):null)};return s.a.createElement(u["a"],null,s.a.createElement("p",{className:m.a.title},"Input Barang"),200!==T||L?s.a.createElement(p["a"],{status:T}):null,t?s.a.createElement(g["a"],null):s.a.createElement(r["Fragment"],null,s.a.createElement(i["a"],null,s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label,htmlFor:"barang"},"Nama Barang"),s.a.createElement(O["a"],{id:"barang",value:ue.text,onChange:ue.changeText,onSelect:ue.selectText}))),s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label},"Stok Gudang"),B?s.a.createElement("div",null,s.a.createElement(f["a"],null)):s.a.createElement(h["a"],{className:m.a.input,disabled:!0,value:ue.values?C.qty_gudang:0}))),s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label},"Stok Display"),B?s.a.createElement("div",null,s.a.createElement(f["a"],null)):s.a.createElement(h["a"],{className:m.a.input,disabled:!0,value:ue.values?C.qty_display:0})))),s.a.createElement(i["a"],null,s.a.createElement("div",{className:m.a.box3},s.a.createElement(i["a"],{justify:"space-between"},s.a.createElement("div",{className:m.a.box5},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label},"Banyak Barang"),s.a.createElement(j["a"],{className:m.a.number,thousandSeparator:!0,thousandsGroupStyle:"thousand",onValueChange:le,value:String(ne)}))),s.a.createElement("div",{className:m.a.box5},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label},"Satuan Barang"),ue.values?s.a.createElement(S["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(encodeURIComponent(ue.values)),select_id:"qty_barang",initial:"Mohon Pilih",handleChange:U}):null)))),s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label,htmlFor:"harga"},"Harga Satuan"),s.a.createElement(j["a"],{style:{borderColor:Number(W)<Number(R&&R.avg)?"#be1e2d":"#d9d9d9"},className:m.a.number,thousandSeparator:!0,thousandsGroupStyle:"thousand",onValueChange:K,value:String(W)}),ue.values&&P?ge():null)),s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label,htmlFor:"diskon"},"Diskon"),s.a.createElement(j["a"],{placeholder:"%",className:m.a.number,thousandSeparator:!0,thousandsGroupStyle:"thousand",onValueChange:$,value:String(Q)}))))),s.a.createElement(i["a"],{style:{marginTop:"1em",display:"flex"}},s.a.createElement("div",{className:m.a.group},s.a.createElement(v["a"],{value:oe,onChange:function(e){return me(e.target.checked)}}),s.a.createElement("label",{className:m.a.label,style:{marginLeft:"5px"},htmlFor:"diskon"},"Tax 1.1")),s.a.createElement("div",{style:{flex:1}}),s.a.createElement(d["a"],{type:"primary",onClick:pe,disabled:o,style:{marginRight:"1em"}},"Tambahkan ke keranjang")))},C=_,T=function(e){var a=e.ongkir,t=e.nama_ekspedisi,n=e.isDisabled_ekspedisi,l=e.onChangeOngkir,r=e.onChangeState,c=e.onCreate;return s.a.createElement(u["a"],{style:{marginTop:"2em"}},s.a.createElement("p",{className:m.a.title},"Pengiriman (Optional) "),s.a.createElement(i["a"],null,s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label,htmlFor:"nama_ekspedisi"},"Nama Ekspedisi"),s.a.createElement(h["a"],{type:"text",className:m.a.input,id:"nama_ekspedisi",placeholder:"Isi Nama Ekspedisi",value:t,onChange:r}))),s.a.createElement("div",{className:m.a.box3},s.a.createElement("div",{className:m.a.group},s.a.createElement("label",{className:m.a.label},"Ongkos Kirim"),s.a.createElement(j["a"],{className:m.a.number,thousandSeparator:!0,thousandsGroupStyle:"thousand",onValueChange:l,value:String(a)})))),s.a.createElement(i["a"],{justify:"end",style:{marginTop:"1em"}},s.a.createElement(d["a"],{type:"primary",onClick:c,disabled:n},"Tambahkan ke keranjang")))},B=T;l["b"].config({top:100,duration:3,maxCount:1});var L=function(){var e=Object(r["useState"])(""),a=Object(n["a"])(e,2),t=a[0],o=a[1],u=Object(r["useState"])(!1),i=Object(n["a"])(u,2),d=i[0],p=i[1],g=y(""),b=Object(n["a"])(g,3),v=b[0],h=b[1],f=b[2],j=Object(c["l"])().id,k=Object(c["j"])(),x=Object(N["a"])(),O=Object(n["a"])(x,6),S=O[0],_=O[1],T=O[2],L=O[3],D=O[4],w=O[5];Object(r["useEffect"])((function(){var e=setTimeout((function(){D("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(j,"/select"))}),0);return function(){return clearTimeout(e)}}),[]),Object(r["useEffect"])((function(){return p(!v||!t)}),[t,v]);var I=JSON.stringify({ongkir:v,nama_ekspedisi:t}),R=function(e){var a=e.target.value;o(a)},q=function(){o(""),f()},J=function(){return S.barang.length?k.push("/sales/pos/".concat(j,"/pembayaran")):(l["b"].error("Mohon lengkapi keranjang"),!1)},F=function(e){var a=e.json,t=e.clear;w("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(j,"/update"),a,t)},G=function(){w("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(j,"/update"),I,q)},H=function(e){w("".concat("https://api.posarmed.id","/admin/v1/sales/pos/").concat(j,"/delete"),JSON.stringify({no:e}),q)};return(L||200!==_)&&l["b"].error(L),s.a.createElement("div",null,s.a.createElement("p",{className:m.a.title},"Point of Sales"),s.a.createElement(C,{onCreate:F,onLoading:Boolean(T)}),s.a.createElement(B,{ongkir:String(v),nama_ekspedisi:t,isDisabled_ekspedisi:d,onChangeOngkir:h,onChangeState:R,onCreate:G}),s.a.createElement(E,{data:S,status:Number(_),isLoading_data:Boolean(T),isError_data:L,onSubmit:J,onDelete:H}))};a["default"]=L},b1st:function(e,a,t){e.exports={title:"antd-pro-pages-sales-pos-keranjang-index-title",row:"antd-pro-pages-sales-pos-keranjang-index-row",modal_body:"antd-pro-pages-sales-pos-keranjang-index-modal_body",col:"antd-pro-pages-sales-pos-keranjang-index-col",box3:"antd-pro-pages-sales-pos-keranjang-index-box3",box5:"antd-pro-pages-sales-pos-keranjang-index-box5",box10:"antd-pro-pages-sales-pos-keranjang-index-box10",group:"antd-pro-pages-sales-pos-keranjang-index-group",label:"antd-pro-pages-sales-pos-keranjang-index-label",input:"antd-pro-pages-sales-pos-keranjang-index-input",button:"antd-pro-pages-sales-pos-keranjang-index-button",span:"antd-pro-pages-sales-pos-keranjang-index-span",area:"antd-pro-pages-sales-pos-keranjang-index-area",table:"antd-pro-pages-sales-pos-keranjang-index-table",number:"antd-pro-pages-sales-pos-keranjang-index-number"}}}]);
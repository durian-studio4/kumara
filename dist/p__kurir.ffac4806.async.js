(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{L5jX:function(e,a,t){"use strict";t.r(a);var n=t("o0o1"),l=t.n(n),r=t("HaE+"),i=t("ODXe"),c=t("q1tI"),o=t.n(c),s=t("Hx5s"),m=t("p46w"),d=t.n(m),u=t("iay9"),p=t.n(u),b=t("9kvl"),g=t("4XXU"),E=t("G/yU"),v=t("bIAK"),f=function(e){var a=e.data,t=e.loading,n=e.status,l=e.isError;return 200!==n||l?o.a.createElement(E["a"],null):o.a.createElement("div",null,o.a.createElement("div",{className:p.a.title,style:{marginBottom:"2rem"}},o.a.createElement(b["a"],{id:"statistik pengiriman",defaultMessage:"Statistik Pengiriman"})),t?o.a.createElement(v["default"],null):o.a.createElement("div",{style:{height:300}},o.a.createElement(g["e"],{width:"100%",height:"100%"},o.a.createElement(g["b"],{data:a,margin:{top:0,right:0,left:0,bottom:0}},o.a.createElement(g["g"],{dataKey:"bulan"}),o.a.createElement(g["h"],{dataKey:"total",domain:[0,5],padding:{left:0}}),o.a.createElement(g["c"],{strokeDasharray:"3 3"}),o.a.createElement(g["f"],null),o.a.createElement(g["d"],{x:"Page C",stroke:"lightblue",label:"Min PAGE"}),o.a.createElement(g["d"],{y:4e3,label:"Max",stroke:"red",strokeDasharray:"3 3"}),o.a.createElement(g["a"],{type:"monotone",dataKey:"total",stroke:"lightblue",fill:"#68adfa"})))))},h=f,j=(t("g9YV"),t("wCAj")),k=(t("14J3"),t("BMrR")),N=(t("+L6B"),t("2/Rp")),O=(t("+BJd"),t("mr32")),y=t("VTBJ"),x=t("F6Wq"),_=function(e){var a=e.data,t=e.status,n=e.loading,l=e.isError,r=e.handleEditDetail,s=e.handleUpdateDetail,m=e.handleDownloadDetail,d=Object(x["a"])(),u=Object(i["a"])(d,1),b=u[0],g=[];for(var v in a)g.push({id:a[v].id,tanggal:a[v].tanggal,nama_sales:a[v].nama_sales,alamat:a[v].pembeli.alamat,barang:a[v].barang,ongkir:a[v].ongkir,status_pengiriman:a[v].status_pengiriman});var f=Object(c["useMemo"])((function(){return[Object(y["a"])({align:"center",title:"Tanggal",dataIndex:"tanggal"},b("tanggal")),Object(y["a"])({align:"center",title:"Nama Sales",dataIndex:"nama_sales"},b("nama_sales")),Object(y["a"])({align:"center",title:"Alamat Tujuan",dataIndex:"alamat"},b("alamat")),{align:"center",title:"Detail Barang",dataIndex:"barang",render:function(e){return e.map((function(e,a){return o.a.createElement(O["a"],{color:"blue",key:a},e.nama_barang)}))}},Object(y["a"])({align:"center",title:"Ongkos Kirim",dataIndex:"ongkir"},b("ongkir")),{align:"center",title:"Status",render:function(e){return o.a.createElement(o.a.Fragment,null,e.status_pengiriman?o.a.createElement("span",{onClick:function(){return s(e.id)}},"Selesai Dikirim"):o.a.createElement("p",null,"Belum Dikirim"))}},{align:"center",render:function(e){var a=e.id,t=e.nama_sales,n=e.status_pengiriman;return o.a.createElement(N["a"],{type:"primary",onClick:function(){return m({id:a,sales:t})},disabled:!n},"Print")}},{align:"center",render:function(e){var a=e.id,t=e.status_pengiriman;return o.a.createElement(N["a"],{onClick:function(){return r(a)},type:"primary",disabled:t},"Detail Tujuan")}}]}),[]);return 200!==t||l?o.a.createElement(E["a"],null):o.a.createElement("div",{style:{marginTop:"2em"}},o.a.createElement(k["a"],{justify:"space-between"},o.a.createElement("p",{className:p.a.title},"List Pengiriman Hari Ini")),o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(j["a"],{columns:f,dataSource:g,loading:n})))},w=_,C=(t("2qtc"),t("kLXV")),D=(t("5NDa"),t("5rEg")),B=t("sWYD"),S=t("R277");function T(e){var a=Object(c["useState"])(e),t=Object(i["a"])(a,2),n=t[0],l=t[1],r=function(e){l(Object(B["a"])(e,"yyyy-MM-dd"))},o=function(){l(e)};return[n,r,o]}var I=T,F=function(e){var a=e.visible,t=e.onCancel,n=e.onCreate,l=e.onLoadButton,r=Object(c["useState"])(!1),s=Object(i["a"])(r,2),m=s[0],d=s[1],u=Object(S["a"])(""),b=Object(i["a"])(u,3),g=b[0],E=b[1],v=b[2],f=Object(S["a"])(""),h=Object(i["a"])(f,3),j=h[0],O=h[1],y=h[2],x=Object(S["a"])(""),_=Object(i["a"])(x,3),w=_[0],T=_[1],F=_[2],M=Object(S["a"])(""),R=Object(i["a"])(M,3),L=R[0],K=R[1],q=R[2],A=I(Object(B["a"])(new Date,"YYYY-MM-DD")),P=Object(i["a"])(A,2),U=P[0];P[1];Object(c["useEffect"])((function(){return d(!L||(!g||(!j||!w)))}),[j,L,g,w]);var J=JSON.stringify({tanggal_kirim:U,no_resi:L,ongkir:g,uang_bensin:w,koli:j}),V=function(){F(),y(),v(),q(),t()},z=function(){n({json:J,clear:V})};return o.a.createElement(C["a"],{visible:a,title:"Input Detail",width:500,footer:null},o.a.createElement("div",{className:p.a.modal_body},o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"tanggal"},"Tanggal Kirim"))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"no_resi"},"Nomor Resi"),o.a.createElement(D["a"],{className:p.a.input,type:"text",id:"no_resi",placeholder:"Isi No Resi",value:L,onChange:K}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"ongkir"},"Ongkos Kirim"),o.a.createElement(D["a"],{className:p.a.input,id:"ongkir",placeholder:"Isi Ongkos Kirim",value:g,onChange:E}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"uang_bensin"},"Uang Bensin"),o.a.createElement(D["a"],{className:p.a.input,id:"uang_bensin",placeholder:"Isi Uang Bensin",value:w,onChange:T}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"koli"},"Koli"),o.a.createElement(D["a"],{className:p.a.input,type:"text",id:"koli",placeholder:"Isi Koli",value:j,onChange:O})))),o.a.createElement(k["a"],{justify:"space-between"},o.a.createElement(N["a"],{disabled:l,onClick:t,type:"primary",danger:!0},"Batal"),o.a.createElement(N["a"],{onClick:z,disabled:m||l,type:"primary"},"Simpan")))},M=F,R=t("Pt6z"),L=function(e){var a=e.id,t=e.visible,n=e.onCancel,l=e.onCreate,r=e.onLoadButton,s=Object(R["a"])(),m=Object(i["a"])(s,5),d=m[0],u=m[1],b=m[2],g=m[3],f=m[4];Object(c["useEffect"])((function(){var e=setTimeout((function(){f("".concat("https://api.posarmed.id","/admin/v1/kurir/").concat(a,"/pengiriman"))}),0);return function(){return clearTimeout(e)}}),[a]);var h=d.pembeli&&d.pembeli.name,j=d.pembeli&&d.pembeli.phone,O=d.pembeli&&d.pembeli.alamat,y=d.pembeli&&d.pembeli.pembeli_grup;return o.a.createElement(C["a"],{visible:t,footer:null,closable:!1,width:350,title:"Detail Tujuan Pengiriman"},o.a.createElement(k["a"],null,200!==u||g?o.a.createElement(E["a"],null):null,b?o.a.createElement(v["default"],null):o.a.createElement("div",{className:p.a.modal_body},o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group,style:{padding:"0.2.em !important"}},o.a.createElement("label",{className:p.a.label,style:{color:"#bfbeba"},htmlFor:"name"},"Nama Penerima"),o.a.createElement("p",{className:p.a.p,id:"name"},h))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group,style:{padding:"0.2.em !important"}},o.a.createElement("label",{className:p.a.label,style:{color:"#bfbeba"},htmlFor:"phone"},"No Telepon"),o.a.createElement("p",{className:p.a.p,id:"phone"},j))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group,style:{padding:"0.2.em !important"}},o.a.createElement("label",{className:p.a.label,style:{color:"#bfbeba"},htmlFor:"alamat"},"Alamat"),o.a.createElement("p",{className:p.a.p,id:"alamat"},O))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group,style:{padding:"0.2.em !important"}},o.a.createElement("label",{className:p.a.label,style:{color:"#bfbeba"},htmlFor:"group"},"Group"),o.a.createElement("p",{className:p.a.p,id:"group"},y))),o.a.createElement(k["a"],{justify:"space-between"},o.a.createElement(N["a"],{className:p.a.button,onClick:n,disabled:r,type:"primary",danger:!0},"Kembali"),o.a.createElement(N["a"],{className:p.a.button,onClick:l,disabled:r,type:"primary"},"Selesai Dikirim")))))},K=L,q=(t("DZo9"),t("8z0m")),A=(t("iQDF"),t("+eQT")),P=t("rePB"),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},J=U,V=t("6VBw"),z=function(e,a){return c["createElement"](V["a"],Object.assign({},e,{ref:a,icon:J}))};z.displayName="PlusOutlined";var Y=c["forwardRef"](z),X=t("7EWV"),H=t("ZS4f"),G=Object(B["a"])(new Date,"yyyy-MM-dd"),W={nama:"",no_resi:"",total_ongkir:""},Q=function(e){var a=e.onCreate,t=e.onCancel,n=e.visible,l=e.onLoadButton,r=Object(c["useState"])(W),s=Object(i["a"])(r,2),m=s[0],d=m.nama,u=m.no_resi,b=m.total_ongkir,g=s[1],E=Object(c["useState"])(G),v=Object(i["a"])(E,2),f=v[0],h=v[1],j=Object(c["useState"])(""),O=Object(i["a"])(j,2),x=O[0],_=O[1],w=Object(c["useState"])(!1),B=Object(i["a"])(w,2),S=B[0],T=B[1],I=Object(H["a"])(""),F=Object(i["a"])(I,3),M=F[0],R=F[1],L=F[2];Object(c["useEffect"])((function(){d||T(!0),u||T(!0),b||T(!0),M||T(!0),T(!1)}),[d,u,b,M]);var K=function(e,a){h(a)},U=function(e){var a=e.target,t=a.id,n=a.value;g((function(e){return Object(y["a"])(Object(y["a"])({},e),{},Object(P["a"])({},t,n))}))},J=function(){_("")},V=function(e){return _(e),!1},z=function(){g(Object(y["a"])({},W)),h(G),_(""),L(),t()},Q=JSON.stringify({tanggal:f,nama:d,no_resi:u,total_ongkir:b,id_ekspedisi:M}),Z=function(){a({json:Q,clear:z})};return o.a.createElement(C["a"],{title:"Tambah Resi",visible:n,closable:!1,footer:null},o.a.createElement("div",{className:p.a.modal_body},o.a.createElement("div",{className:p.a.col},o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"nama"},"Nama"),o.a.createElement(D["a"],{className:p.a.input,type:"text",id:"nama",placeholder:"Isi Nama",value:d,onChange:U}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"tgl_ekspedisi"},"Tanggal Ekspedisi"),o.a.createElement(A["a"],{style:{width:"100%"},id:"tgl_ekspedesi",onChange:K}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"no_resi"},"No Resi"),o.a.createElement(D["a"],{className:p.a.input,id:"no_resi",placeholder:"Isi Resi",value:u,onChange:U}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"ekspedisi"},"Ekspedisi"),o.a.createElement(X["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/sales/expedisi"),handleChange:R}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"total_ongkir"},"Total Ongkir"),o.a.createElement(D["a"],{className:p.a.input,type:"number",id:"total_ongkir",placeholder:"Isi Ongkir",value:b,onChange:U}))),o.a.createElement("div",{className:p.a.box10},o.a.createElement("div",{className:p.a.group},o.a.createElement("label",{className:p.a.label,htmlFor:"upload"},"Upload Foto"),o.a.createElement("div",{className:p.a.box10},o.a.createElement(q["a"],{name:"avatar",onRemove:J,beforeUpload:V},o.a.createElement("div",{className:p.a.group},o.a.createElement(N["a"],{type:"primary",id:"upload",className:p.a.button,disabled:Boolean(x)},o.a.createElement(Y,null))))))))),o.a.createElement(k["a"],{justify:"end"},o.a.createElement(N["a"],{type:"primary",danger:!0,className:p.a.button,disabled:l,onClick:z},"Batal"),o.a.createElement(N["a"],{type:"primary",className:p.a.button,onClick:Z,disabled:S||l},"Tambah")))},Z=Q,$=function(e){var a=e.data,t=e.status,n=e.loading,l=e.isError,r=e.handleVisibleAdd,s=Object(x["a"])(),m=Object(i["a"])(s,1),d=m[0],u=[];for(var b in a)u.push({id:a[b].id,tanggal:a[b].tanggal,nama:a[b].nama,no_resi:a[b].no_resi,total_ongkir:a[b].total_ongkir});var g=Object(c["useMemo"])((function(){return[Object(y["a"])({align:"center",title:"Tanggal Ekspedisi",dataIndex:"tanggal"},d("tanggal")),Object(y["a"])({align:"center",title:"Nama",dataIndex:"nama"},d("nama")),Object(y["a"])({align:"center",title:"No Resi",dataIndex:"no_resi"},d("no_resi")),Object(y["a"])({align:"center",title:"Total Ongkir",dataIndex:"total_ongkir"},d("total_ongkir"))]}),[]);return 200!==t||l?o.a.createElement(E["a"],null):o.a.createElement("div",{style:{marginTop:"2em"}},o.a.createElement(k["a"],{justify:"space-between"},o.a.createElement("p",{className:p.a.title},"List Resi"),o.a.createElement("p",{className:p.a.title_add,onClick:r},"+ Tambah")),o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(j["a"],{columns:g,dataSource:a,loading:n})))},ee=$,ae=t("jC83"),te=t("io9h");function ne(){var e=Object(c["useState"])(!1),a=Object(i["a"])(e,2),t=a[0],n=a[1],o=Object(c["useState"])(Date.now()),s=Object(i["a"])(o,2),m=s[0],u=s[1],p=function(){var e=Object(r["a"])(l.a.mark((function e(a,t,r){var i,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,te["a"].post(a,{data:t,headers:{"Content-Type":"Application/json",Authorization:String(d.a.get("token"))}});case 4:return i=e.sent,e.next=7,i;case 7:return c=e.sent,n(!1),u(Date.now()),r(),e.abrupt("return",c);case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0,"error"),console.log(e.t0.response,"error"),n(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a,t,n){return e.apply(this,arguments)}}();return[t,m,p]}var le=ne,re=function(){var e=Object(c["useState"])(!1),a=Object(i["a"])(e,2),t=a[0],n=a[1],m=Object(c["useState"])(0),u=Object(i["a"])(m,2),b=u[0],g=u[1],E=Object(c["useState"])(!1),v=Object(i["a"])(E,2),f=v[0],j=v[1],k=Object(c["useState"])(0),N=Object(i["a"])(k,2),O=N[0],y=N[1],x=Object(c["useState"])(!1),_=Object(i["a"])(x,2),C=_[0],D=_[1],B=Object(R["a"])(),S=Object(i["a"])(B,5),T=S[0],I=S[1],F=S[2],L=S[3],q=S[4],A=Object(R["a"])(),P=Object(i["a"])(A,5),U=P[0],J=P[1],V=P[2],z=P[3],Y=P[4],X=Object(R["a"])(),H=Object(i["a"])(X,5),G=H[0],W=H[1],Q=H[2],$=H[3],te=H[4],ne=Object(ae["a"])(),re=Object(i["a"])(ne,3),ie=re[0],ce=re[1],oe=re[2],se=le(),me=Object(i["a"])(se,3),de=me[0],ue=me[1],pe=me[2];Object(c["useEffect"])((function(){var e=setTimeout((function(){q("".concat("https://api.posarmed.id","/admin/v1/kurir/chart/weekly"))}),0);return function(){return clearTimeout(e)}}),[ce,ue]),Object(c["useEffect"])((function(){var e=setTimeout((function(){Y("".concat("https://api.posarmed.id","/admin/v1/kurir/resi/list"))}),0);return function(){return clearTimeout(e)}}),[ce,ue]),Object(c["useEffect"])((function(){var e=setTimeout((function(){te("".concat("https://api.posarmed.id","/admin/v1/kurir/pengiriman"))}),0);return function(){return clearTimeout(e)}}),[ce,ue]);var be=function(){return D(!C)},ge=function(){return j(!f)},Ee=function(e){n(!t),g(Number(e))},ve=function(e){j(!f),y(Number(e))},fe=function(){n(!t),g(0)},he=function(){var e=Object(r["a"])(l.a.mark((function e(a){var t,n,r,i,c,o;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.id,n=a.sales,e.prev=1,e.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/kurir/").concat(t,"/excel"),{headers:{"Content-Type":"application/json",Authorization:String(d.a.get("token"))}});case 4:return r=e.sent,e.next=7,r.blob();case 7:i=e.sent,c=i,o=document.createElement("a"),o.href=window.URL.createObjectURL(c),o.download="".concat(n,"-").concat(t,".xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](1),console.log(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(a){return e.apply(this,arguments)}}(),je=function(){oe("".concat("https://api.posarmed.id","/admin/v1/kurir/").concat(O,"/pengiriman"),JSON.stringify({status_pengiriman:1}),ge)},ke=function(e){var a=e.json,t=e.clear;oe("".concat("https://api.posarmed.id","/admin/v1/kurir/").concat(b,"/pengiriman"),a,t)},Ne=function(e){var a=e.json,t=e.clear;pe("".concat("https://api.posarmed.id","/admin/v1/kurir/resi"),a,t)};return o.a.createElement(s["a"],null,o.a.createElement("p",{className:p.a.title},"Kurir"),o.a.createElement(h,{data:T,status:Number(I),loading:Boolean(F),isError:L}),o.a.createElement(w,{data:G,status:Number(W),loading:Boolean(Q),isError:$,handleEditDetail:ve,handleUpdateDetail:Ee,handleDownloadDetail:he}),o.a.createElement(ee,{data:U,status:Number(J),loading:Boolean(V),isError:z,handleVisibleAdd:be}),C?o.a.createElement(Z,{visible:C,onLoadButton:Boolean(de),onCreate:Ne,onCancel:be}):null,t?o.a.createElement(M,{visible:t,onCancel:fe,onCreate:ke,onLoadButton:Boolean(ie)}):null,f?o.a.createElement(K,{visible:f,id:O,onCancel:ge,onCreate:je,onLoadButton:Boolean(ie)}):null)};a["default"]=re},iay9:function(e,a,t){e.exports={title:"antd-pro-pages-kurir-index-title",title_add:"antd-pro-pages-kurir-index-title_add",row:"antd-pro-pages-kurir-index-row",row_box:"antd-pro-pages-kurir-index-row_box",modal_body:"antd-pro-pages-kurir-index-modal_body",col:"antd-pro-pages-kurir-index-col",box3:"antd-pro-pages-kurir-index-box3",box5:"antd-pro-pages-kurir-index-box5",box6:"antd-pro-pages-kurir-index-box6",box10:"antd-pro-pages-kurir-index-box10",group:"antd-pro-pages-kurir-index-group",label:"antd-pro-pages-kurir-index-label",input:"antd-pro-pages-kurir-index-input",input_title:"antd-pro-pages-kurir-index-input_title",button:"antd-pro-pages-kurir-index-button",button_title:"antd-pro-pages-kurir-index-button_title",area:"antd-pro-pages-kurir-index-area",span:"antd-pro-pages-kurir-index-span",p:"antd-pro-pages-kurir-index-p",table:"antd-pro-pages-kurir-index-table"}}}]);
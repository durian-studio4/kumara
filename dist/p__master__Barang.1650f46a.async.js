(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"40Io":function(e,a,t){"use strict";t.r(a);t("14J3");var n=t("BMrR"),r=(t("+L6B"),t("2/Rp")),c=(t("5NDa"),t("5rEg")),i=t("ODXe"),u=(t("miYZ"),t("tsqr")),o=t("q1tI"),l=t.n(o),s=t("qDqd"),b=t.n(s),d=(t("g9YV"),t("wCAj")),m=(t("P2fV"),t("NJEC")),p=(t("sRBo"),t("kaz8")),g=t("VTBJ"),f=t("sWYD"),_=t("F6Wq"),j=t("G/yU"),O=function(e){var a=e.data,t=(e.handleVisible,e.handleUpdate,e.loading),n=e.status,c=e.error,u=e.remove,s=e.update,b=Object(_["a"])(),O=Object(i["a"])(b,1),y=O[0],k=Object(o["useMemo"])((function(){return[{align:"center",title:"No",key:"id",dataIndex:"id"},Object(g["a"])({align:"center",title:"SKU/Barode",key:"sku",dataIndex:"sku"},y("sku")),Object(g["a"])({align:"center",title:"Brand",key:"brand",dataIndex:"brand"},y("brand")),Object(g["a"])({align:"center",title:"Nama Barang",key:"nama_barang",dataIndex:"nama_barang"},y("nama_barang")),Object(g["a"])({align:"center",title:"Tipe Barang",key:"type_barang",dataIndex:"type_barang"},y("type_barang")),Object(g["a"])({align:"center",title:"Expired Date",key:"expired_date",dataIndex:"expired_date",render:function(e){return l.a.createElement("span",null,e?Object(f["a"])(e,"dd/MM/yyyy"):null)}},y("expired_date")),Object(g["a"])({align:"center",title:"Satuan Stock",key:"stok_minimum",dataIndex:"stok_minimum"},y("stok_minimum")),{align:"center",title:"PPN",render:function(e){return l.a.createElement(m["a"],{title:"Apakah Anda Ingin Confirm?",onConfirm:function(){s(e.id,"1")},onCancel:function(){s(e.id,"0")},okText:"Yes",cancelText:"No"},l.a.createElement(p["a"],{checked:e.include_ppn}))}},{align:"center",render:function(e){return l.a.createElement(o["Fragment"],null,l.a.createElement(r["a"],{onClick:function(){return u(e.id)},type:"primary",danger:!0},"Delete"))}}]}),[]);return c||200!==n?l.a.createElement(j["a"],null):l.a.createElement("div",{style:{overflow:"auto"}},l.a.createElement(d["a"],{columns:k,dataSource:a,loading:t}),";")},y=O,k=(t("2qtc"),t("kLXV")),v=(t("jCWc"),t("kPKH")),x=(t("DZo9"),t("8z0m")),E=t("rePB"),h=function(e){var a=e.label,t=e.id,n=e.name,r=e.onChange,i=e.placeholder,u=e.value,o=e.disabled;return l.a.createElement("div",{className:b.a.box5},l.a.createElement("div",{className:b.a.group},l.a.createElement("label",{className:b.a.label,htmlFor:a},n),l.a.createElement(c["a"],{className:b.a.input,type:"text",id:t,placeholder:i,value:u,onChange:r,disabled:o})))},S=h,N=t("o0o1"),C=t.n(N),w=t("HaE+"),q=t("p46w"),B=t.n(q),D=t("bIAK"),I=function(e){var a=e.onChange,t=e.onDisabled,r=Object(o["useState"])([]),c=Object(i["a"])(r,2),u=c[0],s=c[1],d=Object(o["useState"])(!1),m=Object(i["a"])(d,2),g=m[0],f=m[1],_=Object(o["useState"])(""),j=Object(i["a"])(_,2),O=j[0],y=j[1];Object(o["useEffect"])((function(){var e=setTimeout((function(){k()}),0);return function(){return clearTimeout(e)}}),[]);var k=function(){var e=Object(w["a"])(C.a.mark((function e(){var a,t,n;return C.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/master/barang/satuanBarang"),{headers:{Authorization:String(B.a.get("token"))}});case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,t;case 10:n=e.sent,s(n.data),f(!1),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](1),f(!1),y(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),v=function(){return g?l.a.createElement(D["default"],null):O?"An Error Occured":u.map((function(e){var n=e.satuan,r=e.id;return l.a.createElement("div",{className:b.a.box3,key:r},l.a.createElement("div",{className:b.a.group,style:{padding:"0.5em"}},l.a.createElement(p["a"],{id:"item_".concat(String(n).toLowerCase()),disabled:t,onChange:a},n)))}))};return l.a.createElement("div",{className:b.a.box5},l.a.createElement(n["a"],null,v()))},T=I,A=t("KQm4"),J=function(e){var a=e.itemCheckbox,t=e.setSatuan,n=a.item_box,r=a.item_karton,c=a.item_pack,i=a.item_pcs,u=a.item_unit;t(i?function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_pcs:1})}:function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_pcs:0})}),t(c?function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_pack:2})}:function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_pack:0})}),t(u?function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_unit:3})}:function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_unit:0})}),t(n?function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_box:4})}:function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_box:0})}),t(r?function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_karton:5})}:function(e){return Object(g["a"])(Object(g["a"])({},e),{},{satuan_karton:0})})},M=function(e){var a=e.satuanBarang,t=e.qtyBarang,n=e.setStok,r=t.qty_box,c=t.qty_pcs,u=t.qty_unit,o=t.qty_karton,l=t.qty_pack;Object._filter=function(e,a){return Object.keys(e).filter((function(t){return a(e[t])})).reduce((function(a,t){return a[t]=e[t],a}),{})};var s=Object._filter(a,(function(e){return e}));Object.entries(s).map((function(e){var a=Object(i["a"])(e,2),t=a[0],s=a[1],b={id_satuan_barang:s,min_stok:Number("")},d=function(e){var a=e.filter((function(e){return""!==e.min_stok}));return[].concat(Object(A["a"])(a),[b])};switch(t){case"satuan_box":b.min_stok=Number(r);break;case"satuan_pcs":b.min_stok=Number(c);break;case"satuan_unit":b.min_stok=Number(u);break;case"satuan_pack":b.min_stok=Number(l);break;case"satuan_karton":b.min_stok=Number(o);break;default:break}return n((function(e){return d(e)}))}))},P=t("ZS4f"),Q=t("7EWV"),U={sku:"",brand:"",nama_barang:"",name:""},F={qty_box:"",qty_pcs:"",qty_unit:"",qty_karton:"",qty_pack:""},K={item_pcs:!1,item_pack:!1,item_unit:!1,item_box:!1,item_karton:!1,include_ppn:!1},V={satuan_pcs:0,satuan_pack:0,satuan_unit:0,satuan_box:0,satuan_karton:0},L=function(e){var a=e.visible,t=e.onLoadButton,c=e.onCancel,u=e.onCreate,s=(e.onError,Object(o["useState"])(U)),d=Object(i["a"])(s,2),m=d[0],p=m.sku,f=m.brand,_=m.nama_barang,j=d[1],O=Object(o["useState"])(F),y=Object(i["a"])(O,2),h=y[0],N=y[1],C=Object(o["useState"])(K),w=Object(i["a"])(C,2),q=w[0],B=w[1],D=Object(o["useState"])(V),I=Object(i["a"])(D,2),A=I[0],L=I[1],z=Object(o["useState"])([]),R=Object(i["a"])(z,2),W=R[0],Y=R[1],Z=Object(o["useState"])(""),H=Object(i["a"])(Z,2),X=H[0],G=H[1],$=Object(o["useState"])(!1),ee=Object(i["a"])($,2),ae=ee[0],te=ee[1],ne=Object(o["useState"])(!1),re=Object(i["a"])(ne,2),ce=re[0],ie=re[1],ue=q.include_ppn,oe=q.item_box,le=q.item_karton,se=q.item_pack,be=q.item_pcs,de=q.item_unit,me=h.qty_box,pe=h.qty_pcs,ge=h.qty_unit,fe=h.qty_karton,_e=h.qty_pack,je=Object(P["a"])("1"),Oe=Object(i["a"])(je,2),ye=Oe[0],ke=Oe[1],ve=Array.from(new Set(W.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)})),xe={sku:p,brand:f,nama_barang:_,id_type_barang:ye,file_gambar:X,include_ppn:Number(ue),satuan_stock:JSON.stringify(ve)};Object(o["useEffect"])((function(){J({itemCheckbox:q,setSatuan:L})}),[q]),Object(o["useEffect"])((function(){a||Y([])}),[a]),Object(o["useEffect"])((function(){return te(!p||(!f||(!_||!X)))}),[f,X,_,p]);var Ee=function(e){var a=e.target,t=a.id,n=a.value;j((function(e){return Object(g["a"])(Object(g["a"])({},e),{},Object(E["a"])({},t,n))}))},he=function(e){var a=e.target,t=a.id,n=a.value;N((function(e){return Object(g["a"])(Object(g["a"])({},e),{},Object(E["a"])({},t,n))}))},Se=function(e){var a=e.target,t=a.id,n=a.checked;B((function(e){return Object(g["a"])(Object(g["a"])({},e),{},Object(E["a"])({},t,n))}))},Ne=function(){G("")},Ce=function(e){return G(e),!1},we=function(){M({satuanBarang:A,qtyBarang:h,setStok:Y}),ie(!ce)},qe=function(){Y([]),N(Object(g["a"])({},F)),ie(!ce)},Be=function(){j(Object(g["a"])({},U)),B(Object(g["a"])({},K)),N(Object(g["a"])({},F)),ie(!ce),G(""),c()},De=function(){u({formData:xe,clear:Be})};return l.a.createElement(k["a"],{visible:a,title:"Input Detail Barang",closable:!1,footer:null,width:700},l.a.createElement("div",{className:b.a.modal_body},l.a.createElement(v["a"],null,l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"space-between"},l.a.createElement(S,{label:"sku",id:"sku",name:"SKU / Barcode",placeholder:"Isi Barcode",value:p,onChange:Ee}),l.a.createElement(S,{label:"brand",id:"brand",name:"Brand",placeholder:"Isi Nama Brand",value:f,onChange:Ee}))),l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"space-between"},l.a.createElement(T,{onChange:Se,onDisabled:ce}),l.a.createElement(S,{label:"nama_barang",id:"nama_barang",name:"Nama Barang",placeholder:"Isi Nama Barang",value:_,onChange:Ee}))),l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"end"},oe?l.a.createElement(S,{disabled:ce,label:"qty_box",id:"qty_box",name:"Minimum Quantity Box",placeholder:"0",value:String(me).replace(/[^0-9-]/g,""),onChange:he}):null,l.a.createElement("div",{className:b.a.box5},l.a.createElement("div",{className:b.a.group},l.a.createElement("label",{className:b.a.label,htmlFor:"type_barang"},"Tipe Barang"),l.a.createElement(Q["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/typeBarang"),initial:"Possable",handleChange:ke}))))),l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"space-between"},be?l.a.createElement(S,{disabled:ce,label:"qty_pcs",id:"qty_pcs",name:"Minimum Quantity Pcs",placeholder:"0",value:String(pe).replace(/[^0-9-]/g,""),onChange:he}):null)),l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"space-between"},de?l.a.createElement(S,{disabled:ce,label:"qty_unit",id:"qty_unit",name:"Minimum Quantity Unit",placeholder:"0",value:String(ge).replace(/[^0-9-]/g,""),onChange:he}):null)),l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"space-between"},le?l.a.createElement(S,{disabled:ce,label:"qty_karton",id:"qty_karton",name:"Minimum Quantity Karton",placeholder:"0",value:String(fe).replace(/[^0-9-]/g,""),onChange:he}):null)),l.a.createElement("div",null,l.a.createElement(n["a"],{justify:"space-between"},se?l.a.createElement(S,{disabled:ce,label:"qty_pack",id:"qty_pack",name:"Minimum Quantity Pack",placeholder:"0",value:String(_e).replace(/[^0-9-]/g,""),onChange:he}):null)),oe||le||se||be||de?l.a.createElement("div",{className:b.a.box10},l.a.createElement(r["a"],{onClick:ce?qe:we,type:"primary"},ce&&"Reset Quantity",!ce&&"Confirm Quantity")):null,l.a.createElement("div",null,l.a.createElement(x["a"],{onRemove:Ne,beforeUpload:Ce},l.a.createElement("div",{className:b.a.group},l.a.createElement(r["a"],{id:"file",type:"primary",className:b.a.button,disabled:Boolean(X)},"Upload Foto Barang")))))),l.a.createElement(n["a"],{justify:"end"},l.a.createElement(r["a"],{className:b.a.button,disabled:t,onClick:Be,type:"primary",danger:!0},"Batal"),l.a.createElement(r["a"],{className:b.a.button,onClick:De,disabled:ae||t,type:"primary"},"Tambah")))},z=L,R=t("io9h");function W(){var e=Object(o["useState"])([]),a=Object(i["a"])(e,2),t=a[0],n=a[1],r=Object(o["useState"])(200),c=Object(i["a"])(r,2),u=c[0],l=c[1],s=Object(o["useState"])(!1),b=Object(i["a"])(s,2),d=b[0],m=b[1],p=Object(o["useState"])(!1),g=Object(i["a"])(p,2),f=g[0],_=g[1],j=function(){var e=Object(w["a"])(C.a.mark((function e(a){var t,r,c;return C.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch(a,{headers:{Authorization:String(B.a.get("token"))}});case 4:return t=e.sent,e.next=7,t.json();case 7:return r=e.sent,e.next=10,r;case 10:c=e.sent,n(c.data),l(c.status_code),m(!1),_(!1),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](1),m(!1),_(!0);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(w["a"])(C.a.mark((function e(a,t,r){var c,i;return C.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,R["a"].post(a,{data:t,headers:{"Content-Type":'multipart/form-data"',Authorization:String(B.a.get("token"))}});case 4:return c=e.sent,e.next=7,c.data;case 7:i=e.sent,m(!1),_(!1),l(i.status_code||200),n(i),r(),e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),r(),m(!1),_(!0);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(a,t,n){return e.apply(this,arguments)}}();return[t,u,d,f,j,O]}var Y=W,Z=t("jC83");u["a"].config({top:100,duration:1,maxCount:1});var H=function(){var e=Object(o["useState"])(""),a=Object(i["a"])(e,2),t=a[0],s=a[1],d=Object(o["useState"])(!1),m=Object(i["a"])(d,2),p=m[0],g=m[1],f=Object(o["useState"])(!1),_=Object(i["a"])(f,2),j=_[0],O=_[1],k=Object(Z["a"])(),v=Object(i["a"])(k,3),x=v[0],E=v[1],h=v[2],S=Y(),N=Object(i["a"])(S,6),C=N[0],w=N[1],q=N[2],B=N[3],D=N[4],I=N[5];Object(o["useEffect"])((function(){var e=setTimeout((function(){D("".concat("https://api.posarmed.id","/admin/v1/master/barang/list"))}),0);return function(){return clearTimeout(e)}}),[E]);var T=Object(o["useCallback"])((function(){D("".concat("https://api.posarmed.id","/admin/v1/master/barang/list?filter=").concat(t))}),[D,t]),A=function(e){"enter"===e.key.toLowerCase()&&T()},J=function(){O(!j)},M=function(){return g(!p)},P=function(){g(!1),O(!1)},Q=function(e){var a=e.target.value;s(a)},U=function(e){var a=e.formData,t=e.clear;h("".concat("https://api.posarmed.id","/admin/v1/master/barang/create"),a,t)},F=function(e,a){var t=new FormData;t.append("include_ppn",a),I("".concat("https://api.posarmed.id","/admin/v1/master/barang/").concat(e,"/update"),t,V)},K=function(e){I("".concat("https://api.posarmed.id","/admin/v1/master/barang/").concat(e,"/delete"),JSON.stringify(null),P)},V=function(){200===w?u["a"].success("Success"):u["a"].error("Failed")};return l.a.createElement("div",null,l.a.createElement("p",{className:b.a.title},"Data Barang"),l.a.createElement("div",{className:b.a.row_box},l.a.createElement(c["a"],{className:b.a.input_title,id:"name",type:"text",placeholder:"Search Barang",onChange:Q,value:t,onKeyDown:A}),l.a.createElement(r["a"],{className:b.a.button_title,type:"primary",onClick:T},"Cari")),l.a.createElement(n["a"],{justify:"end"},l.a.createElement("p",{className:b.a.title_add,onClick:M},"+ Tambah")),l.a.createElement(y,{data:C,loading:Boolean(q),status:Number(w),error:Boolean(B),update:F,remove:K,handleVisible:M,handleUpdate:J}),p?l.a.createElement(z,{visible:p,onCancel:P,onCreate:U,onError:E,onLoadButton:Boolean(x)}):null)};a["default"]=H},qDqd:function(e,a,t){e.exports={title:"antd-pro-pages-master-barang-index-title",title_add:"antd-pro-pages-master-barang-index-title_add",row:"antd-pro-pages-master-barang-index-row",row_box:"antd-pro-pages-master-barang-index-row_box",modal_body:"antd-pro-pages-master-barang-index-modal_body",col:"antd-pro-pages-master-barang-index-col",box3:"antd-pro-pages-master-barang-index-box3",box5:"antd-pro-pages-master-barang-index-box5",box6:"antd-pro-pages-master-barang-index-box6",box10:"antd-pro-pages-master-barang-index-box10",group:"antd-pro-pages-master-barang-index-group",label:"antd-pro-pages-master-barang-index-label",input:"antd-pro-pages-master-barang-index-input",input_title:"antd-pro-pages-master-barang-index-input_title",button:"antd-pro-pages-master-barang-index-button",button_title:"antd-pro-pages-master-barang-index-button_title",area:"antd-pro-pages-master-barang-index-area",span:"antd-pro-pages-master-barang-index-span",p:"antd-pro-pages-master-barang-index-p",table:"antd-pro-pages-master-barang-index-table"}}}]);
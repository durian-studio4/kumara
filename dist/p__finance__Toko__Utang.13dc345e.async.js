(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{CLrA:function(a,e,t){a.exports={title:"antd-pro-pages-finance-toko-utang-index-title",title_add:"antd-pro-pages-finance-toko-utang-index-title_add",row_box:"antd-pro-pages-finance-toko-utang-index-row_box",modal_body:"antd-pro-pages-finance-toko-utang-index-modal_body",col:"antd-pro-pages-finance-toko-utang-index-col",box3:"antd-pro-pages-finance-toko-utang-index-box3",box5:"antd-pro-pages-finance-toko-utang-index-box5",box10:"antd-pro-pages-finance-toko-utang-index-box10",group:"antd-pro-pages-finance-toko-utang-index-group",label:"antd-pro-pages-finance-toko-utang-index-label",input:"antd-pro-pages-finance-toko-utang-index-input",input_title:"antd-pro-pages-finance-toko-utang-index-input_title",button:"antd-pro-pages-finance-toko-utang-index-button",button_convert:"antd-pro-pages-finance-toko-utang-index-button_convert",button_title:"antd-pro-pages-finance-toko-utang-index-button_title",area:"antd-pro-pages-finance-toko-utang-index-area",p:"antd-pro-pages-finance-toko-utang-index-p"}},HcpS:function(a,e,t){"use strict";t.r(e);t("14J3");var n=t("BMrR"),l=(t("+L6B"),t("2/Rp")),c=(t("5NDa"),t("5rEg")),r=t("o0o1"),o=t.n(r),i=t("HaE+"),s=t("ODXe"),u=t("q1tI"),m=t.n(u),d=t("p46w"),b=t.n(d),p=t("CLrA"),g=t.n(p),E=(t("g9YV"),t("wCAj")),f=t("VTBJ"),v=t("F6Wq"),h=t("G/yU"),j=function(a){var e=a.data,t=a.handleVisibleUpdate,c=a.handleVisibleEdit,r=a.cancel,o=a.loading,i=a.status,d=a.error,b=Object(v["a"])(),p=Object(s["a"])(b,1),j=p[0],N=Object(u["useMemo"])((function(){return[Object(f["a"])({align:"center",title:"Tanggal",key:"tanggal",render:function(a){return m.a.createElement("span",null,a.tanggal)}},j("tanggal")),Object(f["a"])({align:"center",title:"Nama Sales",key:"nama_sales",dataIndex:"nama_sales"},j("nama_sales")),Object(f["a"])({align:"center",title:"Nama Barang",key:"nama_barang",dataIndex:"nama_barang"},j("nama_barang")),Object(f["a"])({align:"center",title:"Toko / Supplier",key:"suplier",dataIndex:"suplier"},j("suplier")),Object(f["a"])({align:"center",title:"Qty / Pcs",key:"qty",dataIndex:"qty"},j("qty")),Object(f["a"])({align:"center",title:"Satuan Barang",key:"satuan_barang",dataIndex:"satuan_barang"},j("satuan_barang")),Object(f["a"])({align:"center",title:"Harga / Satuan",qty:"harga",dataIndex:"harga"},j("harga")),Object(f["a"])({align:"center",title:"Total",key:"total",dataIndex:"total"},j("total")),{key:"id",align:"center",render:function(a){return m.a.createElement(m.a.Fragment,null,0===a.status?m.a.createElement(n["a"],{justify:"space-around"},m.a.createElement(l["a"],{className:g.a.button,id:a.id,onClick:function(){return t(a.id)},type:"primary"},"Selesai"),m.a.createElement(l["a"],{className:g.a.button,id:a.id,onClick:function(){return c(a.id)},type:"primary"},"Edit"),m.a.createElement(l["a"],{className:g.a.button,onClick:function(){return r(a.id)},type:"primary",danger:!0},"Batal")):null,1===a.status?m.a.createElement("p",{style:{color:"#1890ff"}},"Selesai"):null,2===a.status?m.a.createElement("p",{style:{color:"#ff4d4f"}},"Batal"):null)}}]}),[]);return d||200!==i?m.a.createElement(h["a"],null):m.a.createElement("div",{style:{overflow:"auto"}},m.a.createElement(E["a"],{columns:N,dataSource:e.reverse(),loading:o}),";")},N=j,y=(t("2qtc"),t("kLXV")),O=(t("jCWc"),t("kPKH")),x=t("sWYD"),_=t("6yvu"),k=t("LuAL"),S=t("MRut"),C=t("ZS4f"),T=t("CzAe"),w=t("R277"),B=function(a){var e=a.visible,t=a.onError,r=a.onCancel,o=a.onCreate,i=a.onLoadButton,d=Object(u["useState"])(""),b=Object(s["a"])(d,2),p=b[0],E=b[1],f=Object(u["useState"])(!1),v=Object(s["a"])(f,2),h=v[0],j=v[1],N=Object(w["a"])(""),B=Object(s["a"])(N,3),q=B[0],F=B[1],I=B[2],U=Object(w["a"])(""),A=Object(s["a"])(U,3),L=A[0],D=A[1],H=A[2],J=Object(T["a"])(),M=Object(C["a"])(""),R=Object(s["a"])(M,3),V=R[0],K=R[1],Q=R[2],W=Object(C["a"])("0"),Y=Object(s["a"])(W,3),z=Y[0],P=Y[1],X=Y[2],G=JSON.stringify({nama_sales:p,qty:q,harga:L,nama_barang:V,id_suplier:J.id,id_satuan_barang:z});Object(u["useEffect"])((function(){return L&&p&&V&&q&&z&&J.text?j(!1):j(!0)}),[L,z,J.text,V,p,q]),Object(u["useEffect"])((function(){X()}),[V]);var Z=function(a){var e=a.target.value;E(e)},$=function(){E(""),H(),I(),Q(),X(),r()},aa=function(){o({url:"".concat("https://api.posarmed.id","/admin/v1/finance/utang"),json:G,clear:$})};return m.a.createElement(y["a"],{visible:e,title:"Tambah Daftar Utang",width:1e3,closable:!1,footer:null},m.a.createElement("div",{className:g.a.modal_body},m.a.createElement(O["a"],null,m.a.createElement(n["a"],null,m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"tanggal"},"Tanggal"),m.a.createElement(c["a"],{className:g.a.input,type:"text",id:"tanggal",value:Object(x["a"])(new Date,"dd/MM/yyyy"),disabled:!0}))),m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"nama_sales"},"Nama Sales"),m.a.createElement(c["a"],{className:g.a.input,type:"text",id:"nama_sales",placeholder:"Isi Nama Sales",value:p,onChange:Z}))),m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"nama_barang"},"Nama Barang"),m.a.createElement(_["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/listgroup"),select_id:"nama_barang",handleChange:K})))),m.a.createElement(n["a"],null,m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"toko"},"Toko / Suplier"),m.a.createElement(S["a"],{id:"toko",value:J.text,onChange:J.changeText,onSelect:J.selectText}))),m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"qty"},"Qty"),m.a.createElement(c["a"],{className:g.a.input,id:"qty",placeholder:"Isi Qty",value:q,onChange:F}))),V?m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"qty_satuan"},"Satuan"),m.a.createElement(k["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(V),select_id:"qty_satuan",handleChange:P}))):null),m.a.createElement(n["a"],null,m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"harga"},"Harga Satuan"),m.a.createElement(c["a"],{className:g.a.input,id:"harga",placeholder:"Isi Harga",value:L,onChange:D})))))),m.a.createElement(n["a"],{justify:"end"},t?m.a.createElement("p",{style:{color:"red"}},t):null,m.a.createElement(l["a"],{className:g.a.button,disabled:i,onClick:$,type:"primary",danger:!0},"Batal"),m.a.createElement(l["a"],{className:g.a.button,onClick:aa,disabled:h||i,type:"primary"},"Simpan")))},q=B,F=t("Pt6z");function I(a){var e=Object(u["useState"])(0),t=Object(s["a"])(e,2),n=t[0],l=t[1];Object(u["useEffect"])((function(){var e=setTimeout((function(){l(a)}),0);return function(){return clearTimeout(e)}}),[a]);var c=function(a,e){l(e.key)},r=function(a){l(a)};return[n,c,r]}var U=I;function A(a){var e=a.idSelect,t=a.textSelect,n=Object(u["useState"])(""),l=Object(s["a"])(n,2),c=l[0],r=l[1],o=Object(u["useState"])(""),i=Object(s["a"])(o,2),m=i[0],d=i[1],b=Object(u["useState"])(0),p=Object(s["a"])(b,2),g=p[0],E=p[1];Object(u["useEffect"])((function(){var a=setTimeout((function(){r(t),E(e)}),0);return function(){return clearTimeout(a)}}),[e,t]);var f=function(a){r(a)},v=function(a,e){r(e.children),E(a),d(e.children)},h=function(){r(""),d(""),E(0)};return{text:c,id:g,values:m,changeText:f,selectText:v,clearText:h}}var L=A,D=t("bIAK"),H=function(a){var e=a.visible,t=a.onCancel,r=a.onCreate,o=a.id_edit,i=Object(F["a"])(),d=Object(s["a"])(i,5),b=d[0],p=d[1],E=d[2],f=d[3],v=d[4],j=Object(u["useState"])(""),N=Object(s["a"])(j,2),x=N[0],C=N[1],T=Object(u["useState"])(""),B=Object(s["a"])(T,2),q=B[0],I=B[1],A=Object(u["useState"])(!1),H=Object(s["a"])(A,2),J=H[0],M=H[1],R=U(b.nama_barang),V=Object(s["a"])(R,3),K=V[0],Q=V[1],W=V[2],Y=U(b.id_satuan_barang),z=Object(s["a"])(Y,3),P=z[0],X=z[1],G=z[2],Z=Object(w["a"])(b.qty),$=Object(s["a"])(Z,3),aa=$[0],ea=$[1],ta=$[2],na=Object(w["a"])(b.harga&&b.harga.split("Rp").join("").split(".").join("").trim()),la=Object(s["a"])(na,3),ca=la[0],ra=la[1],oa=la[2],ia=L({idSelect:b.id_suplier,textSelect:b.nama_suplier}),sa=JSON.stringify({nama_sales:x,nama_barang:K,qty:aa,harga:ca,id_suplier:ia.id,id_satuan_barang:P});Object(u["useEffect"])((function(){var a=setTimeout((function(){v("".concat("https://api.posarmed.id","/admin/v1/finance/utang/").concat(o,"/select"))}),0);return function(){return clearTimeout(a)}}),[o]),Object(u["useEffect"])((function(){b&&(C(b.nama_sales),I(b.tanggal))}),[b]),Object(u["useEffect"])((function(){return aa&&ca&&x&&P&&K&&ia.text?M(!1):M(!0)}),[ca,K,ia.text,x,aa,P]);var ua=function(a){var e=a.target.value;C(e)},ma=function(){C(""),G(0),W(""),ta(),oa(),t()},da=function(){r({url:"".concat("https://api.posarmed.id","/admin/v1/finance/utang/").concat(o,"/update"),json:sa,clear:ma})};return m.a.createElement(y["a"],{visible:e,title:"Edit Daftar Utang",width:1e3,closable:!1,footer:null},200!==p||f?m.a.createElement(h["a"],null):null,E?m.a.createElement(D["a"],null):m.a.createElement("div",{className:g.a.modal_body},m.a.createElement(O["a"],null,m.a.createElement(n["a"],null,m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"tanggal"},"Tanggal"),m.a.createElement(c["a"],{className:g.a.input,type:"text",id:"tanggal",value:q,disabled:!0}))),m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"nama_sales"},"Nama Sales"),m.a.createElement(c["a"],{className:g.a.input,type:"text",id:"nama_sales",placeholder:"Isi Nama Sales",value:x,onChange:ua}))),m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"nama_barang"},"Nama Barang"),m.a.createElement(_["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/listgroup"),initial:b.nama_barang,handleChange:Q})))),m.a.createElement(n["a"],null,m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"toko"},"Toko / Suplier"),m.a.createElement(S["a"],{id:"toko",value:ia.text,onChange:ia.changeText,onSelect:ia.selectText}))),m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"qty"},"Qty"),m.a.createElement(c["a"],{className:g.a.input,id:"qty",placeholder:"Isi Qty",value:aa,onChange:ea}))),K?m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"qty_satuan"},"Satuan"),m.a.createElement(k["a"],{address:"".concat("https://api.posarmed.id","/admin/v1/master/barang/selectgroup?nama_barang=").concat(K),initial:b.satuan_barang,handleChange:X}))):null),m.a.createElement(n["a"],null,m.a.createElement("div",{className:g.a.box3},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"harga"},"Harga Satuan"),m.a.createElement(c["a"],{className:g.a.input,id:"harga",placeholder:"Isi Harga",value:ca,onChange:ra})))))),m.a.createElement(n["a"],{justify:"end"},m.a.createElement(l["a"],{className:g.a.button,disabled:Boolean(E),onClick:ma,type:"primary",danger:!0},"Batal"),m.a.createElement(l["a"],{className:g.a.button,disabled:J||Boolean(E),onClick:da,type:"primary"},"Simpan")))},J=H,M=c["a"].TextArea,R=function(a){var e=a.visible,t=a.onUpdate,c=a.onCancel,r=a.id_row,o=Object(u["useState"])(""),i=Object(s["a"])(o,2),d=i[0],b=i[1],p=function(a){b(a.target.value)},E=function(){b(""),c()},f=function(){t({url:"".concat("https://api.posarmed.id","/admin/v1/finance/utang/").concat(r,"/update"),json:JSON.stringify({status:1,keterangan:d}),clear:E})};return m.a.createElement(y["a"],{visible:e,title:"Ubah Status",width:450,closable:!1,footer:null},m.a.createElement("div",{className:g.a.modal_body},m.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},"Apakah Anda Yakin Ingin Merubah Status Menjadi Selesai?"),m.a.createElement("div",{className:g.a.box10},m.a.createElement("div",{className:g.a.group},m.a.createElement("label",{className:g.a.label,htmlFor:"keterangan"},"Keterangan:"),m.a.createElement(M,{className:g.a.area,id:"keterangan",value:d,onChange:p,placeholder:"Masukkan Keterangan..."}))),m.a.createElement(n["a"],{justify:"space-around"},m.a.createElement(l["a"],{className:g.a.button,type:"primary",onClick:f,disabled:!d},"Ya"),m.a.createElement(l["a"],{className:g.a.button,type:"primary",danger:!0,onClick:E},"Batal"))))},V=R,K=t("h/CO"),Q=function(){var a=Object(u["useState"])(""),e=Object(s["a"])(a,2),t=e[0],r=e[1],d=Object(u["useState"])(!1),p=Object(s["a"])(d,2),E=p[0],f=p[1],v=Object(u["useState"])(!1),h=Object(s["a"])(v,2),j=h[0],y=h[1],O=Object(u["useState"])(!1),x=Object(s["a"])(O,2),_=x[0],k=x[1],S=Object(u["useState"])(0),C=Object(s["a"])(S,2),T=C[0],w=C[1],B=Object(u["useState"])(0),I=Object(s["a"])(B,2),U=I[0],A=I[1],L=Object(u["useState"])(["",""]),D=Object(s["a"])(L,2),H=D[0],M=D[1],R=Object(u["useState"])(!1),Q=Object(s["a"])(R,2),W=Q[0],Y=Q[1],z=Object(F["a"])(),P=Object(s["a"])(z,6),X=P[0],G=P[1],Z=P[2],$=P[3],aa=P[4],ea=P[5];Object(u["useEffect"])((function(){var a=setTimeout((function(){aa("".concat("https://api.posarmed.id","/admin/v1/finance/utang"))}),0);return function(){return clearTimeout(a)}}),[]);var ta=Object(u["useCallback"])((function(){aa("".concat("https://api.posarmed.id","/admin/v1/finance/utang?filter=").concat(t)),r("")}),[aa,t]),na=function(a){"enter"===a.key.toLowerCase()&&ta()},la=function(a){r(a.target.value)},ca=function(a,e){M([e[0]||"",e[1]||""])},ra=function(){return f(!E)},oa=function(a){y(!j),w(Number(a))},ia=function(a){k(!_),A(Number(a))},sa=function(){k(!1),A(0)},ua=function(){y(!1),w(0)},ma=function(a){var e=a.url,t=a.json,n=a.clear;ea(e,t,n)},da=function(a){var e=a.url,t=a.json,n=a.clear;ea(e,t,n)},ba=function(a){var e=a.url,t=a.json,n=a.clear;ea(e,t,n)},pa=function(a){ea("".concat("https://api.posarmed.id","/admin/v1/finance/utang/").concat(a,"/update"),JSON.stringify({status:2}),ua)},ga=function(){var a=Object(i["a"])(o.a.mark((function a(){var e,t,n,l;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return Y(!0),a.prev=1,a.next=4,fetch("".concat("https://api.posarmed.id","/admin/v1/finance/utang/excel/?start_date=").concat(H[0],"&end_date=").concat(H[1]),{headers:{"Content-Type":"application/json",Authorization:String(b.a.get("token"))}});case 4:return e=a.sent,a.next=7,e.blob();case 7:t=a.sent,n=t,l=document.createElement("a"),l.href=window.URL.createObjectURL(n),l.download="Utang-Toko-".concat(H[0],".xlsx"),document.body.appendChild(l),l.click(),document.body.removeChild(l),M(["",""]),Y(!1),a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](1),Y(!1);case 22:case"end":return a.stop()}}),a,null,[[1,19]])})));return function(){return a.apply(this,arguments)}}();return m.a.createElement("div",null,m.a.createElement("p",{className:g.a.title},"Utang Toko"),m.a.createElement("div",{className:g.a.row_box},m.a.createElement(c["a"],{className:g.a.input_title,id:"name",type:"text",placeholder:"Search Utang Toko",onChange:la,value:t,onKeyDown:na}),m.a.createElement(l["a"],{className:g.a.button_title,type:"primary",onClick:ta},"Cari")),m.a.createElement(n["a"],{justify:"space-between"},m.a.createElement("p",{className:g.a.title},"Utang Antar Toko"),m.a.createElement("p",{className:g.a.title_add,onClick:ra},"+ Tambah")),m.a.createElement(n["a"],{style:{marginBottom:"1em"}},m.a.createElement(K["a"],{handleChange:ca}),m.a.createElement(l["a"],{type:"primary",className:g.a.button_convert,onClick:ga,disabled:!Boolean(H[0])&&!Boolean(H[1])},W&&"Downloading excel...",!W&&"Convert to Excel")),m.a.createElement(N,{data:X,loading:Boolean(Z),status:Number(G),error:$,cancel:pa,handleVisibleUpdate:oa,handleVisibleEdit:ia}),m.a.createElement(q,{visible:E,onError:$,onCancel:ra,onCreate:ma,onLoadButton:Boolean(Z)}),_?m.a.createElement(J,{visible:_,onCreate:da,onCancel:sa,id_edit:U}):null,j?m.a.createElement(V,{visible:j,onCancel:ua,onUpdate:ba,id_row:T}):null)};e["default"]=Q}}]);